(this["webpackJsonpgame-of-thrones"]=this["webpackJsonpgame-of-thrones"]||[]).push([[0],{38:function(e,t,c){},39:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(20),a=c.n(n),r=(c(38),c(2)),o=c(6),i=(c(39),c(0)),u=function(e){var t=e.path,c=e.title;return Object(i.jsx)(o.b,{to:t,className:"BtnLink",children:c})},l=(c(46),c(17)),d=function(){return Object(l.b)()},j=l.c,h=(c(47),function(){var e=j((function(e){return e.favourites})).amountOfItems;return Object(i.jsxs)("div",{className:"Header",children:[Object(i.jsx)(o.b,{to:"/books",className:"Header__item",activeClassName:"Header__item_active",children:"\u041a\u043d\u0438\u0433\u0438"}),Object(i.jsx)(o.b,{to:"/characters",className:"Header__item",activeClassName:"Header__item_active",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438"}),Object(i.jsx)(o.b,{to:"/houses",className:"Header__item",activeClassName:"Header__item_active",children:"\u0414\u043e\u043c\u0430 / \u0421\u0435\u043c\u044c\u0438"}),Object(i.jsxs)(o.b,{to:"/favourites",className:"Header__item",activeClassName:"Header__item_active",children:["\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",Object(i.jsx)("div",{className:"Header__fav-number",children:e})]})]})}),f=function(e){var t=e.children;return Object(i.jsxs)("div",{className:"Page",children:[Object(i.jsx)(h,{}),Object(i.jsx)("div",{className:"Page__container",children:t})]})},b=c(5),m=c.n(b),O=c(12),x=c(13),v=c.n(x),p=c(4),g=Object(p.b)({name:"book",initialState:{book:null,isLoading:!1,error:""},reducers:{fetchBookStart:function(e){e.isLoading=!0,e.error=""},fetchBookSuccess:function(e,t){e.isLoading=!1,e.book=t.payload},fetchBookError:function(e,t){e.isLoading=!1,e.error=""}}}),_=g.reducer,N=g.actions,k=N.fetchBookError,C=N.fetchBookStart,P=N.fetchBookSuccess,B=function(){var e=Object(O.a)(m.a.mark((function e(t,c){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(C()),e.next=4,v.a.get("https://anapioficeandfire.com/api/books/"+c);case 4:s=e.sent,setTimeout((function(){t(P(s.data))}),200),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(k("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,c){return e.apply(this,arguments)}}(),H=(c(67),function(){var e=Object(r.g)().id,t=d(),c=j((function(e){return e.book})),n=c.book,a=c.error,o=c.isLoading;return Object(s.useEffect)((function(){B(t,e)}),[]),o?Object(i.jsxs)(f,{children:[Object(i.jsx)("div",{className:"Book",children:Object(i.jsx)("div",{className:"cssload-container",children:Object(i.jsx)("div",{className:"cssload-speeding-wheel"})})}),Object(i.jsx)(u,{path:"/books",title:"\u041d\u0430\u0437\u0430\u0434"})]}):a?Object(i.jsxs)(f,{children:[Object(i.jsx)("div",{className:"Book",children:Object(i.jsx)("div",{className:"Book__fail",children:a})}),Object(i.jsx)(u,{path:"/books",title:"\u041d\u0430\u0437\u0430\u0434"})]}):Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"Book",children:[Object(i.jsx)("h1",{className:"Book__title",children:null===n||void 0===n?void 0:n.name}),Object(i.jsx)("h2",{className:"Book__subtitle",children:null===n||void 0===n?void 0:n.authors.join(", ")}),Object(i.jsxs)("div",{className:"Book__row",children:[Object(i.jsx)("strong",{children:"\u0427\u0438\u0441\u043b\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446: "}),null===n||void 0===n?void 0:n.numberOfPages]}),Object(i.jsxs)("div",{className:"Book__row",children:[Object(i.jsx)("strong",{children:"\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c: "}),null===n||void 0===n?void 0:n.publisher]}),Object(i.jsxs)("div",{className:"Book__row",children:[Object(i.jsx)("strong",{children:"\u0421\u0442\u0440\u0430\u043d\u0430: "}),null===n||void 0===n?void 0:n.country]}),Object(i.jsxs)("div",{className:"Book__row",children:[Object(i.jsx)("strong",{children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430: "}),null===n||void 0===n?void 0:n.released.slice(0,10)]})]}),Object(i.jsx)(u,{path:"/books",title:"\u041d\u0430\u0437\u0430\u0434"})]})}),y=(c(68),function(e){var t=e.title,c=e.description,s=e.onClick,n=e.onAdd,a=e.onDelete,r=e.isActive;return Object(i.jsxs)("div",{className:"Card",onClick:s,children:[Object(i.jsx)("h2",{className:"Card__title",children:t}),Object(i.jsx)("p",{className:"Card__description",children:c}),Object(i.jsx)("div",{className:"Card__fav-btn",onClick:function(e){e.stopPropagation(),r?a():n()},children:r?"\u2605":"\u2606"})]})}),L=(c(69),function(e){var t=e.setDate,c=d();return Object(i.jsx)("input",{className:"DatePicker",type:"date",onKeyPress:function(e){"Enter"===e.key&&c(t(e.currentTarget.value))}})}),S=(c(70),function(e){var t=e.onLeftPage,c=e.onRightPage,s=e.currentPage;return Object(i.jsxs)("div",{className:"PageSlider",children:[Object(i.jsx)("div",{className:"PageSlider__item",onClick:t,children:"\u25c0"}),Object(i.jsx)("div",{className:"PageSlider__page",children:s}),Object(i.jsx)("div",{className:"PageSlider__item",onClick:c,children:"\u25b6"})]})}),w=(c(71),function(e){var t=e.setName,c=d();return Object(i.jsx)("input",{type:"text",className:"SearchInput",placeholder:"\u041f\u043e\u0438\u0441\u043a",onKeyPress:function(e){"Enter"===e.key&&c(t(e.currentTarget.value))}})});function D(e){var t=e.split("/");return t[t.length-1]}function R(e,t){return!!t.find((function(t){return t.url===e}))}var A,E=Object(p.b)({name:"books",initialState:{books:[],currentPage:1,isLoading:!1,error:"",name:"",toReleaseDate:"",fromReleaseDate:""},reducers:{fetchBooksStart:function(e){e.isLoading=!0,e.error=""},fetchBooksSuccess:function(e,t){e.isLoading=!1,e.books=t.payload},fetchBooksError:function(e,t){e.isLoading=!1,e.error=t.payload},onRightBooksPage:function(e){e.currentPage=e.currentPage+1},onLeftBooksPage:function(e){1!==e.currentPage&&(e.currentPage=e.currentPage-1)},setBooksName:function(e,t){e.name=t.payload,e.currentPage=1},setBooksFromReleaseDate:function(e,t){e.fromReleaseDate=t.payload},setBooksToReleaseDate:function(e,t){e.toReleaseDate=t.payload},clearBooks:function(e){e.name="",e.fromReleaseDate="",e.toReleaseDate=""}}}),I=E.reducer,T=E.actions,F=T.fetchBooksStart,G=T.fetchBooksError,M=T.fetchBooksSuccess,J=T.onLeftBooksPage,K=T.onRightBooksPage,q=T.setBooksName,z=T.clearBooks,Q=T.setBooksFromReleaseDate,U=T.setBooksToReleaseDate,V=function(){var e=Object(O.a)(m.a.mark((function e(t,c,s,n,a){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(F()),e.next=4,v.a.get("https://anapioficeandfire.com/api/books",{params:{page:c,name:s,fromReleaseDate:n,toReleaseDate:a}});case 4:r=e.sent,setTimeout((function(){0===r.data.length&&c>1?t(J()):t(M(r.data))}),200),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),setTimeout((function(){t(G("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043a\u043d\u0438\u0433 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"))}),200);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,c,s,n,a){return e.apply(this,arguments)}}(),W=Object(p.b)({name:"books",initialState:{books:[],characters:[],houses:[],amountOfItems:0},reducers:{addBook:function(e,t){e.books.push(t.payload),e.amountOfItems=e.amountOfItems+1},deleteBook:function(e,t){e.books=e.books.filter((function(e){return e.url!==t.payload})),e.amountOfItems=e.amountOfItems-1},addCharacter:function(e,t){e.characters.push(t.payload),e.amountOfItems=e.amountOfItems+1},deleteCharacter:function(e,t){e.characters=e.characters.filter((function(e){return e.url!==t.payload})),e.amountOfItems=e.amountOfItems-1},addHouse:function(e,t){e.houses.push(t.payload),e.amountOfItems=e.amountOfItems+1},deleteHouse:function(e,t){e.houses=e.houses.filter((function(e){return e.url!==t.payload})),e.amountOfItems=e.amountOfItems-1}}}),X=W.reducer,Y=W.actions,Z=Y.addBook,$=Y.addCharacter,ee=Y.addHouse,te=Y.deleteBook,ce=Y.deleteCharacter,se=Y.deleteHouse,ne=Object(p.b)({name:"recents",initialState:{recents:[]},reducers:{addRecentsItem:function(e,t){e.recents.find((function(e){return e.url===t.payload.url}))&&(e.recents=e.recents.filter((function(e){return e.url!==t.payload.url}))),10===e.recents.length&&e.recents.pop(),e.recents.unshift(t.payload)}}}),ae=ne.reducer,re=ne.actions.addRecentsItem,oe=(c(72),function(){var e=Object(r.f)(),t=j((function(e){return e.books})),c=t.books,n=t.currentPage,a=t.error,o=t.isLoading,l=t.name,h=t.toReleaseDate,b=t.fromReleaseDate,m=j((function(e){return e.favourites})),O=d();return Object(s.useEffect)((function(){O(z())}),[]),Object(s.useEffect)((function(){V(O,n,l,b,h)}),[n,l,b,h]),o?Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"Books",children:[Object(i.jsxs)("div",{className:"Books__inputs",children:[Object(i.jsx)(w,{setName:q}),Object(i.jsxs)("span",{children:[Object(i.jsx)("span",{className:"Books__text",children:"\u041e\u0442:"}),Object(i.jsx)(L,{setDate:Q}),Object(i.jsx)("span",{className:"Books__text",children:"\u0414\u043e:"}),Object(i.jsx)(L,{setDate:U})]})]}),Object(i.jsx)("div",{className:"cssload-container",children:Object(i.jsx)("div",{className:"cssload-speeding-wheel"})})]}),Object(i.jsx)(u,{path:"/",title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]}):a?Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"Books",children:[Object(i.jsxs)("div",{className:"Books__inputs",children:[Object(i.jsx)(w,{setName:q}),Object(i.jsxs)("span",{children:[Object(i.jsx)("span",{className:"Books__text",children:"\u041e\u0442:"}),Object(i.jsx)(L,{setDate:Q}),Object(i.jsx)("span",{className:"Books__text",children:"\u0414\u043e:"}),Object(i.jsx)(L,{setDate:U})]})]}),Object(i.jsx)("div",{className:"Books__fail",children:a})]}),Object(i.jsx)(u,{path:"/",title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]}):Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"Books",children:[Object(i.jsxs)("div",{className:"Books__inputs",children:[Object(i.jsx)(w,{setName:q}),Object(i.jsxs)("span",{children:[Object(i.jsx)("span",{className:"Books__text",children:"\u041e\u0442:"}),Object(i.jsx)(L,{setDate:Q}),Object(i.jsx)("span",{className:"Books__text",children:"\u0414\u043e:"}),Object(i.jsx)(L,{setDate:U})]})]}),Object(i.jsxs)("div",{className:"Books__container",children:[!c.length&&Object(i.jsx)("div",{className:"Books__fail",children:"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),c.map((function(t){return Object(i.jsx)(y,{title:t.name,description:"\u0410\u0432\u0442\u043e\u0440\u044b: ".concat(t.authors.join(", "),". \u0421\u0442\u0440\u0430\u043d\u0430: ").concat(t.country,". \u041a\u043e\u043b-\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446: ").concat(t.numberOfPages,"."),onClick:function(){e.push("/books/"+D(t.url)),O(re(t))},onAdd:function(){return O(Z(t))},onDelete:function(){return O(te(t.url))},isActive:R(t.url,m.books)},t.url)}))]})]}),Object(i.jsx)(u,{path:"/",title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),!!c.length&&Object(i.jsx)(S,{onLeftPage:function(){return O(J())},onRightPage:function(){return O(K())},currentPage:n})]})}),ie=Object(p.b)({name:"character",initialState:{isLoading:!1,error:"",character:null},reducers:{fetchCharacterStart:function(e){e.isLoading=!0,e.error=""},fetchCharacterSuccess:function(e,t){e.isLoading=!1,e.character=t.payload},fetchCharacterError:function(e,t){e.isLoading=!1,e.error=t.payload}}}),ue=ie.reducer,le=ie.actions,de=le.fetchCharacterError,je=le.fetchCharacterStart,he=le.fetchCharacterSuccess,fe=function(){var e=Object(O.a)(m.a.mark((function e(t,c){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(je()),e.next=4,v.a.get("https://anapioficeandfire.com/api/characters/"+c);case 4:s=e.sent,setTimeout((function(){t(he(s.data))}),200),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(de("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,c){return e.apply(this,arguments)}}(),be=(c(73),function(){var e=Object(r.g)().id,t=d(),c=j((function(e){return e.character})),n=c.character,a=c.error,o=c.isLoading;return Object(s.useEffect)((function(){fe(t,e)}),[]),o?Object(i.jsxs)(f,{children:[Object(i.jsx)("div",{className:"Character",children:Object(i.jsx)("div",{className:"cssload-container",children:Object(i.jsx)("div",{className:"cssload-speeding-wheel"})})}),Object(i.jsx)(u,{path:"/characters",title:"\u041d\u0430\u0437\u0430\u0434"})]}):a?Object(i.jsxs)(f,{children:[Object(i.jsx)("div",{className:"Character",children:Object(i.jsx)("div",{className:"Character__fail",children:a})}),Object(i.jsx)(u,{path:"/characters",title:"\u041d\u0430\u0437\u0430\u0434"})]}):Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"Character",children:[Object(i.jsx)("h1",{className:"Character__title",children:(null===n||void 0===n?void 0:n.name)||"\u0418\u043c\u044f \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}),Object(i.jsx)("h2",{className:"Character__subtitle",children:(null===n||void 0===n?void 0:n.died)?"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436 \u043c\u0435\u0440\u0442\u0432":"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436 \u0436\u0438\u0432"}),Object(i.jsxs)("div",{className:"Character__row",children:[Object(i.jsx)("strong",{children:"\u041f\u043e\u043b: "}),null===n||void 0===n?void 0:n.gender]}),Object(i.jsxs)("div",{className:"Character__row",children:[Object(i.jsx)("strong",{children:"\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430: "}),null===n||void 0===n?void 0:n.culture]}),Object(i.jsxs)("div",{className:"Character__row",children:[Object(i.jsx)("strong",{children:"\u0420\u043e\u0434\u0438\u043b\u0441\u044f: "}),null===n||void 0===n?void 0:n.born]}),Object(i.jsxs)("div",{className:"Character__row",children:[Object(i.jsx)("strong",{children:"\u0423\u043c\u0435\u0440: "}),null===n||void 0===n?void 0:n.died]}),Object(i.jsxs)("div",{className:"Character__row",children:[Object(i.jsx)("strong",{children:"\u0422\u0438\u0442\u0443\u043b\u044b: "}),null===n||void 0===n?void 0:n.titles.join(", ")]}),Object(i.jsxs)("div",{className:"Character__row",children:[Object(i.jsx)("strong",{children:"\u041f\u0440\u043e\u0437\u0432\u0438\u0449\u0430: "}),null===n||void 0===n?void 0:n.aliases.join(", ")]}),Object(i.jsxs)("div",{className:"Character__row",children:[Object(i.jsx)("strong",{children:"\u0410\u043a\u0442\u0435\u0440(\u044b): "}),null===n||void 0===n?void 0:n.playedBy.join(", ")]})]}),Object(i.jsx)(u,{path:"/characters",title:"\u041d\u0430\u0437\u0430\u0434"})]})});c(74);!function(e){e.male="male",e.female="female",e.any=""}(A||(A={}));var me=function(e){var t=e.setGender,c=d();return Object(i.jsxs)("select",{className:"GenderSelect",onChange:function(e){c(t(e.currentTarget.value))},children:[Object(i.jsx)("option",{value:A.any,children:"\u0412\u0441\u0435"}),Object(i.jsx)("option",{value:A.male,children:"\u041c\u0443\u0436\u0447\u0438\u043d\u044b"}),Object(i.jsx)("option",{value:A.female,children:"\u0416\u0435\u043d\u0449\u0438\u043d\u044b"})]})},Oe={characters:[],currentPage:1,isLoading:!1,error:"",name:"",gender:A.any},xe=Object(p.b)({name:"books",initialState:Oe,reducers:{fetchCharactersStart:function(e){e.isLoading=!0,e.error=""},fetchCharactersSuccess:function(e,t){e.isLoading=!1,e.characters=t.payload},fetchCharactersError:function(e,t){e.isLoading=!1,e.error=t.payload},onRightCharactersPage:function(e){e.currentPage=e.currentPage+1},onLeftCharactersPage:function(e){1!==e.currentPage&&(e.currentPage=e.currentPage-1)},setCharactersName:function(e,t){e.name=t.payload,e.currentPage=1},setCharactersGender:function(e,t){e.gender=t.payload},clearCharacters:function(e){e.name="",e.gender=A.any}}}),ve=xe.reducer,pe=xe.actions,ge=pe.fetchCharactersError,_e=pe.fetchCharactersStart,Ne=pe.fetchCharactersSuccess,ke=pe.onRightCharactersPage,Ce=pe.onLeftCharactersPage,Pe=pe.setCharactersName,Be=pe.clearCharacters,He=pe.setCharactersGender,ye=function(){var e=Object(O.a)(m.a.mark((function e(t,c,s,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(_e()),e.next=4,v.a.get("https://anapioficeandfire.com/api/characters",{params:{page:c,name:s,gender:n}});case 4:a=e.sent,setTimeout((function(){0===a.data.length&&c>1?t(Ce()):t(Ne(a.data))}),200),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),setTimeout((function(){t(ge("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0435\u0439 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"))}),200);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,c,s,n){return e.apply(this,arguments)}}(),Le=(c(75),function(){var e=Object(r.f)(),t=j((function(e){return e.characters})),c=t.characters,n=t.currentPage,a=t.isLoading,o=t.error,l=t.name,h=t.gender,b=j((function(e){return e.favourites})),m=d();return Object(s.useEffect)((function(){m(Be())}),[]),Object(s.useEffect)((function(){ye(m,n,l,h)}),[n,l,h]),a?Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"Characters",children:[Object(i.jsxs)("div",{className:"Characters__inputs",children:[Object(i.jsx)(w,{setName:Pe}),Object(i.jsx)(me,{setGender:He})]}),Object(i.jsx)("div",{className:"cssload-container",children:Object(i.jsx)("div",{className:"cssload-speeding-wheel"})})]}),Object(i.jsx)(u,{path:"/",title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]}):o?Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"Characters",children:[Object(i.jsxs)("div",{className:"Characters__inputs",children:[Object(i.jsx)(w,{setName:Pe}),Object(i.jsx)(me,{setGender:He})]}),Object(i.jsx)("div",{className:"Characters__fail",children:o})]}),Object(i.jsx)(u,{path:"/",title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]}):Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"Characters",children:[Object(i.jsxs)("div",{className:"Characters__inputs",children:[Object(i.jsx)(w,{setName:Pe}),Object(i.jsx)(me,{setGender:He})]}),Object(i.jsxs)("div",{className:"Characters__container",children:[!c.length&&Object(i.jsx)("div",{className:"Characters__fail",children:"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),c.map((function(t){return Object(i.jsx)(y,{title:t.name||"\u0418\u043c\u044f \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",description:"\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430: ".concat(t.culture||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",". \u041f\u043e\u043b: ").concat(t.gender,". ").concat(t.died&&"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436 \u043c\u0435\u0440\u0442\u0432"),onClick:function(){e.push("/characters/"+D(t.url)),m(re(t))},onAdd:function(){return m($(t))},onDelete:function(){return m(ce(t.url))},isActive:R(t.url,b.characters)},t.url)}))]})]}),Object(i.jsx)(u,{path:"/",title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),!!c.length&&Object(i.jsx)(S,{onLeftPage:function(){return m(Ce())},onRightPage:function(){return m(ke())},currentPage:n})]})}),Se=(c(76),function(){var e=Object(r.f)(),t=j((function(e){return e.favourites})),c=t.books,s=t.characters,n=t.houses,a=d();return Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"Favourites",children:[Object(i.jsx)("h2",{className:"Favourites__title",children:"\u041a\u043d\u0438\u0433\u0438"}),Object(i.jsxs)("div",{className:"Favourites__container",children:[!c.length&&Object(i.jsx)("div",{className:"Favourites__text",children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u043e"}),c.map((function(t){return Object(i.jsx)(y,{title:t.name,description:"\u0410\u0432\u0442\u043e\u0440\u044b: ".concat(t.authors.join(", "),". \u0421\u0442\u0440\u0430\u043d\u0430: ").concat(t.country,". \u041a\u043e\u043b-\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446: ").concat(t.numberOfPages,"."),onClick:function(){e.push("/books/"+D(t.url)),a(re(t))},onAdd:function(){return a(Z(t))},onDelete:function(){return a(te(t.url))},isActive:R(t.url,c)},t.url)}))]}),Object(i.jsx)("h2",{className:"Favourites__title",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438"}),Object(i.jsxs)("div",{className:"Favourites__container",children:[!s.length&&Object(i.jsx)("div",{className:"Favourites__text",children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u043e"}),s.map((function(t){return Object(i.jsx)(y,{title:t.name||"\u0418\u043c\u044f \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",description:"\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430: ".concat(t.culture||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",". \u041f\u043e\u043b: ").concat(t.gender,". ").concat(t.died&&"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436 \u043c\u0435\u0440\u0442\u0432"),onClick:function(){e.push("/characters/"+D(t.url)),a(re(t))},onAdd:function(){return a($(t))},onDelete:function(){return a(ce(t.url))},isActive:R(t.url,s)},t.url)}))]}),Object(i.jsx)("h2",{className:"Favourites__title",children:"\u0414\u043e\u043c\u0430 / \u0421\u0435\u043c\u044c\u0438"}),Object(i.jsxs)("div",{className:"Favourites__container",children:[!n.length&&Object(i.jsx)("div",{className:"Favourites__text",children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u043e"}),n.map((function(t){return Object(i.jsx)(y,{title:t.name,description:"\u0420\u0435\u0433\u0438\u043e\u043d: ".concat(t.region,". \u0413\u0435\u0440\u0431: ").concat(t.coatOfArms||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d","."),onClick:function(){e.push("/houses/"+D(t.url)),a(re(t))},onAdd:function(){return a(ee(t))},onDelete:function(){return a(se(t.url))},isActive:R(t.url,n)},t.url)}))]})]}),Object(i.jsx)(u,{path:"/",title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})}),we=Object(p.b)({name:"house",initialState:{isLoading:!1,error:"",house:null},reducers:{fetchHouseStart:function(e){e.isLoading=!0,e.error=""},fetchHouseSuccess:function(e,t){e.isLoading=!1,e.house=t.payload},fetchHouseError:function(e,t){e.isLoading=!1,e.error=t.payload}}}),De=we.reducer,Re=we.actions,Ae=Re.fetchHouseError,Ee=Re.fetchHouseStart,Ie=Re.fetchHouseSuccess,Te=function(){var e=Object(O.a)(m.a.mark((function e(t,c){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Ee()),e.next=4,v.a.get("https://anapioficeandfire.com/api/houses/"+c);case 4:s=e.sent,setTimeout((function(){t(Ie(s.data))}),200),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(Ae("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,c){return e.apply(this,arguments)}}(),Fe=(c(77),function(){var e=Object(r.g)().id,t=d(),c=j((function(e){return e.house})),n=c.house,a=c.error,o=c.isLoading;return Object(s.useEffect)((function(){Te(t,e)}),[]),o?Object(i.jsxs)(f,{children:[Object(i.jsx)("div",{className:"House",children:Object(i.jsx)("div",{className:"cssload-container",children:Object(i.jsx)("div",{className:"cssload-speeding-wheel"})})}),Object(i.jsx)(u,{path:"/houses",title:"\u041d\u0430\u0437\u0430\u0434"})]}):a?Object(i.jsxs)(f,{children:[Object(i.jsx)("div",{className:"House",children:Object(i.jsx)("div",{className:"House__fail",children:a})}),Object(i.jsx)(u,{path:"/houses",title:"\u041d\u0430\u0437\u0430\u0434"})]}):Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"House",children:[Object(i.jsx)("h1",{className:"House__title",children:null===n||void 0===n?void 0:n.name}),Object(i.jsx)("h2",{className:"House__subtitle",children:null===n||void 0===n?void 0:n.region}),Object(i.jsxs)("div",{className:"House__row",children:[Object(i.jsx)("strong",{children:"\u0413\u0435\u0440\u0431: "}),null===n||void 0===n?void 0:n.coatOfArms]}),Object(i.jsxs)("div",{className:"House__row",children:[Object(i.jsx)("strong",{children:"\u0414\u0435\u0432\u0438\u0437: "}),null===n||void 0===n?void 0:n.words]}),Object(i.jsxs)("div",{className:"House__row",children:[Object(i.jsx)("strong",{children:"\u041e\u0441\u043d\u043e\u0432\u0430\u043d: "}),null===n||void 0===n?void 0:n.founded]}),Object(i.jsxs)("div",{className:"House__row",children:[Object(i.jsx)("strong",{children:"\u0422\u0438\u0442\u0443\u043b\u044b: "}),null===n||void 0===n?void 0:n.titles.join(", ")]}),Object(i.jsxs)("div",{className:"House__row",children:[Object(i.jsx)("strong",{children:"\u041c\u0435\u0441\u0442\u043e: "}),null===n||void 0===n?void 0:n.seats.join(", ")]})]}),Object(i.jsx)(u,{path:"/houses",title:"\u041d\u0430\u0437\u0430\u0434"})]})}),Ge=Object(p.b)({name:"books",initialState:{houses:[],currentPage:1,error:"",isLoading:!1,name:""},reducers:{fetchHousesStart:function(e){e.isLoading=!0,e.error=""},fetchHousesSuccess:function(e,t){e.isLoading=!1,e.houses=t.payload},fetchHousesError:function(e,t){e.isLoading=!1,e.error=t.payload},onRightHousesPage:function(e){e.currentPage=e.currentPage+1},onLeftHousesPage:function(e){1!==e.currentPage&&(e.currentPage=e.currentPage-1)},setHousesName:function(e,t){e.name=t.payload,e.currentPage=1},clearHousesName:function(e){e.name=""}}}),Me=Ge.reducer,Je=Ge.actions,Ke=Je.fetchHousesError,qe=Je.fetchHousesStart,ze=Je.fetchHousesSuccess,Qe=Je.onLeftHousesPage,Ue=Je.onRightHousesPage,Ve=Je.setHousesName,We=Je.clearHousesName,Xe=function(){var e=Object(O.a)(m.a.mark((function e(t,c,s){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(qe()),e.next=4,v.a.get("https://anapioficeandfire.com/api/houses",{params:{page:c,name:s}});case 4:n=e.sent,setTimeout((function(){0===n.data.length&&c>1?t(Qe()):t(ze(n.data))}),200),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),setTimeout((function(){t(Ke("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u043e\u043c\u043e\u0432 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"))}),200);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,c,s){return e.apply(this,arguments)}}(),Ye=(c(78),function(){var e=Object(r.f)(),t=j((function(e){return e.houses})),c=t.houses,n=t.currentPage,a=t.isLoading,o=t.error,l=t.name,h=j((function(e){return e.favourites})),b=d();return Object(s.useEffect)((function(){b(We())}),[]),Object(s.useEffect)((function(){Xe(b,n,l)}),[n,l]),a?Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"Houses",children:[Object(i.jsx)(w,{setName:Ve}),Object(i.jsx)("div",{className:"cssload-container",children:Object(i.jsx)("div",{className:"cssload-speeding-wheel"})})]}),Object(i.jsx)(u,{path:"/",title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]}):o?Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"Houses",children:[Object(i.jsx)(w,{setName:Ve}),Object(i.jsx)("div",{className:"Houses__fail",children:o})]}),Object(i.jsx)(u,{path:"/",title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]}):Object(i.jsxs)(f,{children:[Object(i.jsxs)("div",{className:"Houses",children:[Object(i.jsx)(w,{setName:Ve}),Object(i.jsxs)("div",{className:"Houses__container",children:[!c.length&&Object(i.jsx)("div",{className:"Houses__fail",children:"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),c.map((function(t){return Object(i.jsx)(y,{title:t.name,description:"\u0420\u0435\u0433\u0438\u043e\u043d: ".concat(t.region,". \u0413\u0435\u0440\u0431: ").concat(t.coatOfArms||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d","."),onClick:function(){e.push("/houses/"+D(t.url)),b(re(t))},onAdd:function(){return b(ee(t))},onDelete:function(){return b(se(t.url))},isActive:R(t.url,h.houses)},t.url)}))]})]}),Object(i.jsx)(u,{path:"/",title:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),!!c.length&&Object(i.jsx)(S,{onLeftPage:function(){return b(Qe())},onRightPage:function(){return b(Ue())},currentPage:n})]})}),Ze=(c(79),function(){var e=j((function(e){return e.recents})).recents,t=j((function(e){return e.favourites})),c=d(),s=Object(r.f)();return Object(i.jsx)(f,{children:Object(i.jsxs)("div",{className:"Main",children:[Object(i.jsx)("h2",{className:"Main__subtitle",children:"\u0424\u0430\u043d-\u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439"}),Object(i.jsx)("h1",{className:"Main__title",children:"\u0418\u0433\u0440\u044b \u041f\u0440\u0435\u0441\u0442\u043e\u043b\u043e\u0432"}),Object(i.jsxs)("div",{className:"Links",children:[Object(i.jsx)(o.b,{to:"/books",className:"Links__item",children:"\u041a\u043d\u0438\u0433\u0438"}),Object(i.jsx)(o.b,{to:"/characters",className:"Links__item",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438"}),Object(i.jsx)(o.b,{to:"/houses",className:"Links__item",children:"\u0414\u043e\u043c\u0430 / \u0421\u0435\u043c\u044c\u0438"})]}),Object(i.jsx)("h2",{className:"Main__recents-title",children:"\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u043e\u0435 \u25bc"}),Object(i.jsxs)("div",{className:"Main__container",children:[!e.length&&Object(i.jsx)("div",{className:"Main__text",children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u043e"}),e.map((function(e){return"authors"in e?Object(i.jsx)(y,{title:e.name,description:"\u0410\u0432\u0442\u043e\u0440\u044b: ".concat(e.authors.join(", "),". \u0421\u0442\u0440\u0430\u043d\u0430: ").concat(e.country,". \u041a\u043e\u043b-\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446: ").concat(e.numberOfPages,"."),onClick:function(){s.push("/books/"+D(e.url)),c(re(e))},onAdd:function(){return c(Z(e))},onDelete:function(){return c(te(e.url))},isActive:R(e.url,t.books)},e.url):"gender"in e?Object(i.jsx)(y,{title:e.name||"\u0418\u043c\u044f \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",description:"\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430: ".concat(e.culture||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e",". \u041f\u043e\u043b: ").concat(e.gender,". ").concat(e.died&&"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436 \u043c\u0435\u0440\u0442\u0432"),onClick:function(){s.push("/characters/"+D(e.url)),c(re(e))},onAdd:function(){return c($(e))},onDelete:function(){return c(ce(e.url))},isActive:R(e.url,t.characters)},e.url):"coatOfArms"in e?Object(i.jsx)(y,{title:e.name,description:"\u0420\u0435\u0433\u0438\u043e\u043d: ".concat(e.region,". \u0413\u0435\u0440\u0431: ").concat(e.coatOfArms||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d","."),onClick:function(){s.push("/houses/"+D(e.url)),c(re(e))},onAdd:function(){return c(ee(e))},onDelete:function(){return c(se(e.url))},isActive:R(e.url,t.houses)},e.url):void 0}))]})]})})}),$e=function(){return Object(i.jsxs)(r.c,{children:[Object(i.jsx)(r.a,{path:"/",exact:!0,component:Ze}),Object(i.jsx)(r.a,{path:"/books",exact:!0,component:oe}),Object(i.jsx)(r.a,{path:"/books/:id",exact:!0,component:H}),Object(i.jsx)(r.a,{path:"/characters",exact:!0,component:Le}),Object(i.jsx)(r.a,{path:"/characters/:id",exact:!0,component:be}),Object(i.jsx)(r.a,{path:"/houses",exact:!0,component:Ye}),Object(i.jsx)(r.a,{path:"/houses/:id",exact:!0,component:Fe}),Object(i.jsx)(r.a,{path:"/favourites",component:Se})]})},et=c(14),tt=Object(et.b)({books:I,houses:Me,characters:ve,favourites:X,recents:ae,book:_,character:ue,house:De});a.a.render(Object(i.jsx)(o.a,{children:Object(i.jsx)(l.a,{store:Object(p.a)({reducer:tt}),children:Object(i.jsx)($e,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.5f8ab816.chunk.js.map