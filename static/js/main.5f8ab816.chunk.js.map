{"version":3,"sources":["components/BtnLink/BtnLink.tsx","hooks/redux.ts","components/Header/Header.tsx","containers/Page/Page.tsx","store/reducers/bookSlice.ts","store/actions/bookActions.ts","pages/Book/Book.tsx","components/Card/Card.tsx","components/DatePicker/DatePicker.tsx","components/PageSlider/PageSlider.tsx","components/SearchInput/SearchInput.tsx","helpers/helpers.ts","store/reducers/booksSlice.ts","components/GenderSelect/GenderSelect.tsx","store/actions/booksActions.ts","store/reducers/favouritesSlice.ts","store/reducers/recentsSlice.ts","pages/Books/Books.tsx","store/reducers/characterSlice.ts","store/actions/characterActions.ts","pages/Character/Character.tsx","store/reducers/charactersSlice.ts","store/actions/charactersActions.ts","pages/Characters/Characters.tsx","pages/Favourites/Favourites.tsx","store/reducers/houseSlice.ts","store/actions/houseAction.ts","pages/House/House.tsx","store/reducers/housesSlice.ts","store/actions/housesActions.ts","pages/Houses/Houses.tsx","pages/Main/Main.tsx","App.tsx","store/store.ts","index.tsx"],"names":["BtnLink","path","title","to","className","useAppDispatch","useDispatch","useAppSelector","useSelector","Header","amountOfItems","state","favourites","activeClassName","Page","children","bookSlice","createSlice","name","initialState","book","isLoading","error","reducers","fetchBookStart","fetchBookSuccess","action","payload","fetchBookError","actions","fetchBook","dispatch","id","a","axios","get","response","setTimeout","data","Book","useParams","useEffect","authors","join","numberOfPages","publisher","country","released","slice","Card","description","onClick","onAdd","onDelete","isActive","e","stopPropagation","DatePicker","setDate","type","onKeyPress","key","currentTarget","value","PageSlider","onLeftPage","onRightPage","currentPage","SearchInput","setName","placeholder","getIndexFromUrl","url","splitedUrl","split","length","isInList","list","find","item","Gender","booksSlice","books","toReleaseDate","fromReleaseDate","fetchBooksStart","fetchBooksSuccess","fetchBooksError","onRightBooksPage","onLeftBooksPage","setBooksName","setBooksFromReleaseDate","setBooksToReleaseDate","clearBooks","fetchBooks","page","params","favouritesSlice","characters","houses","addBook","push","deleteBook","filter","addCharacter","deleteCharacter","character","addHouse","deleteHouse","house","recentsSlice","recents","addRecentsItem","pop","unshift","Books","history","useHistory","map","characterSlice","fetchCharacterStart","fetchCharacterSuccess","fetchCharacterError","fetchCharacter","Character","died","gender","culture","born","titles","aliases","playedBy","GenderSelect","setGender","onChange","any","male","female","charactersSlice","fetchCharactersStart","fetchCharactersSuccess","fetchCharactersError","onRightCharactersPage","onLeftCharactersPage","setCharactersName","setCharactersGender","clearCharacters","fetchCharacters","Characters","Favourites","region","coatOfArms","houseSlice","fetchHouseStart","fetchHouseSuccess","fetchHouseError","fetchHouse","House","words","founded","seats","housesSlice","fetchHousesStart","fetchHousesSuccess","fetchHousesError","onRightHousesPage","onLeftHousesPage","setHousesName","clearHousesName","fetchHouses","Houses","Main","App","exact","component","rootReducer","combineReducers","ReactDOM","render","store","configureStore","reducer","document","getElementById"],"mappings":"siBAiBeA,EARyB,SAAC,GAAmB,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,MAC9C,OACE,cAAC,IAAD,CAASC,GAAIF,EAAMG,UAAU,UAA7B,SACGF,K,gBCTMG,EAAiB,kBAAMC,eACvBC,EAAkDC,ICuBhDC,G,MAtBU,WACvB,IAAOC,EAAiBH,GAAe,SAAAI,GAAK,OAAIA,EAAMC,cAA/CF,cAEP,OACE,sBAAKN,UAAU,SAAf,UACE,cAAC,IAAD,CAASD,GAAG,SAASC,UAAU,eAAeS,gBAAgB,sBAA9D,4CAGA,cAAC,IAAD,CAASV,GAAG,cAAcC,UAAU,eAAeS,gBAAgB,sBAAnE,oEAGA,cAAC,IAAD,CAASV,GAAG,UAAUC,UAAU,eAAeS,gBAAgB,sBAA/D,uEAGA,eAAC,IAAD,CAASV,GAAG,cAAcC,UAAU,eAAeS,gBAAgB,sBAAnE,mEAEE,qBAAKT,UAAU,qBAAf,SAAqCM,YCN9BI,EAXQ,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SACvB,OACE,sBAAKX,UAAU,OAAf,UACE,cAAC,EAAD,IACA,qBAAKA,UAAU,kBAAf,SACGW,Q,gDCMHC,EAAYC,YAAY,CAC5BC,KAAM,OACNC,aAR8B,CAC9BC,KAAM,KACNC,WAAW,EACXC,MAAO,IAMPC,SAAU,CACRC,eADQ,SACOb,GACbA,EAAMU,WAAY,EAClBV,EAAMW,MAAQ,IAEhBG,iBALQ,SAKSd,EAAkBe,GACjCf,EAAMU,WAAY,EAClBV,EAAMS,KAAOM,EAAOC,SAEtBC,eATQ,SASOjB,EAAkBe,GAC/Bf,EAAMU,WAAY,EAClBV,EAAMW,MAAQ,OAKLN,IAAf,QACO,EAA2DA,EAAUa,QAA9DD,EAAP,EAAOA,eAAgBJ,EAAvB,EAAuBA,eAAgBC,EAAvC,EAAuCA,iBC9BjCK,EAAS,uCAAG,WAAOC,EAAuBC,GAA9B,eAAAC,EAAA,sEAErBF,EAASP,KAFY,SAGEU,IAAMC,IAAW,2CAA6CH,GAHhE,OAGfI,EAHe,OAKrBC,YAAW,WACTN,EAASN,EAAiBW,EAASE,SAClC,KAPkB,gDASrBP,EAASH,EAAe,oKATH,yDAAH,wDCuEPW,G,MApEQ,WACrB,IAAOP,EAAMQ,cAANR,GACDD,EAAW1B,IACjB,EAAiCE,GAAe,SAAAI,GAAK,OAAIA,EAAMS,QAAxDA,EAAP,EAAOA,KAAME,EAAb,EAAaA,MAAOD,EAApB,EAAoBA,UAOpB,OALAoB,qBAAU,WACRX,EAAUC,EAAUC,KAEnB,IAEAX,EAEC,eAAC,EAAD,WACE,qBAAKjB,UAAU,OAAf,SACE,qBAAKA,UAAU,oBAAf,SACE,qBAAKA,UAAU,+BAGnB,cAAC,EAAD,CAASH,KAAK,SAASC,MAAM,sCAKhCoB,EAEC,eAAC,EAAD,WACE,qBAAKlB,UAAU,OAAf,SACE,qBAAKA,UAAU,aAAf,SAA6BkB,MAE/B,cAAC,EAAD,CAASrB,KAAK,SAASC,MAAM,sCAMjC,eAAC,EAAD,WACE,sBAAKE,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,gBAA6BgB,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAMF,OACnC,oBAAId,UAAU,iBAAd,gBACGgB,QADH,IACGA,OADH,EACGA,EAAMsB,QAAQC,KAAK,QAGtB,sBAAKvC,UAAU,YAAf,UACE,iHADF,OAEGgB,QAFH,IAEGA,OAFH,EAEGA,EAAMwB,iBAGT,sBAAKxC,UAAU,YAAf,UACE,wFADF,OAEGgB,QAFH,IAEGA,OAFH,EAEGA,EAAMyB,aAGT,sBAAKzC,UAAU,YAAf,UACE,4EADF,OAEGgB,QAFH,IAEGA,OAFH,EAEGA,EAAM0B,WAGT,sBAAK1C,UAAU,YAAf,UACE,2GADF,OAEGgB,QAFH,IAEGA,OAFH,EAEGA,EAAM2B,SAASC,MAAM,EAAG,UAI7B,cAAC,EAAD,CAAS/C,KAAK,SAASC,MAAM,wCCxCpB+C,G,MAnBmB,SAAC,GAA8D,IAA7D/C,EAA4D,EAA5DA,MAAOgD,EAAqD,EAArDA,YAAaC,EAAwC,EAAxCA,QAASC,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,SAUhF,OACE,sBAAKlD,UAAU,OAAO+C,QAASA,EAA/B,UACE,oBAAI/C,UAAU,cAAd,SAA6BF,IAC7B,mBAAGE,UAAU,oBAAb,SAAkC8C,IAClC,qBAAK9C,UAAU,gBAAgB+C,QAbX,SAACI,GACvBA,EAAEC,kBACCF,EACDD,IAGFD,KAOE,SAA0DE,EAAW,SAAM,gBCHlEG,G,MAd+B,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACxC3B,EAAW1B,IAQjB,OACE,uBAAOD,UAAU,aAAauD,KAAK,OAAOC,WAPvB,SAACL,GACP,UAAVA,EAAEM,KACH9B,EAAS2B,EAAQH,EAAEO,cAAcC,aCKxBC,G,MAV+B,SAAC,GAA4C,IAA3CC,EAA0C,EAA1CA,WAAYC,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,YACvE,OACE,sBAAK/D,UAAU,aAAf,UACE,qBAAKA,UAAU,mBAAmB+C,QAASc,EAA3C,oBACA,qBAAK7D,UAAU,mBAAf,SAAmC+D,IACnC,qBAAK/D,UAAU,mBAAmB+C,QAASe,EAA3C,yBCSSE,G,MAdiC,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAC1CtC,EAAW1B,IAQjB,OACE,uBAAOsD,KAAK,OAAOvD,UAAU,cAAckE,YAAY,iCAAQV,WAP5C,SAACL,GACP,UAAVA,EAAEM,KACH9B,EAASsC,EAAQd,EAAEO,cAAcC,aCZhC,SAASQ,EAAgBC,GAC9B,IAAMC,EAAaD,EAAIE,MAAM,KAC7B,OAAOD,EAAWA,EAAWE,OAAS,GAGjC,SAASC,EAASJ,EAAaK,GACpC,QAASA,EAAKC,MAAK,SAACC,GAAD,OAAuCA,EAAKP,MAAQA,KCKzE,ICJYQ,EDcNC,EAAahE,YAAY,CAC7BC,KAAM,QACNC,aAZ+B,CAC/B+D,MAAO,GACPf,YAAa,EACb9C,WAAW,EACXC,MAAO,GACPJ,KAAM,GACNiE,cAAe,GACfC,gBAAiB,IAMjB7D,SAAU,CACR8D,gBADQ,SACQ1E,GACdA,EAAMU,WAAY,EAClBV,EAAMW,MAAQ,IAEhBgE,kBALQ,SAKU3E,EAAmBe,GACnCf,EAAMU,WAAY,EAClBV,EAAMuE,MAAQxD,EAAOC,SAEvB4D,gBATQ,SASQ5E,EAAmBe,GACjCf,EAAMU,WAAY,EAClBV,EAAMW,MAAQI,EAAOC,SAEvB6D,iBAbQ,SAaS7E,GACfA,EAAMwD,YAAcxD,EAAMwD,YAAc,GAE1CsB,gBAhBQ,SAgBQ9E,GACW,IAAtBA,EAAMwD,cACPxD,EAAMwD,YAAcxD,EAAMwD,YAAc,IAG5CuB,aArBQ,SAqBK/E,EAAmBe,GAC9Bf,EAAMO,KAAOQ,EAAOC,QACpBhB,EAAMwD,YAAc,GAEtBwB,wBAzBQ,SAyBgBhF,EAAmBe,GACzCf,EAAMyE,gBAAkB1D,EAAOC,SAEjCiE,sBA5BQ,SA4BcjF,EAAmBe,GACvCf,EAAMwE,cAAgBzD,EAAOC,SAE/BkE,WA/BQ,SA+BGlF,GACTA,EAAMO,KAAO,GACbP,EAAMyE,gBAAkB,GACxBzE,EAAMwE,cAAgB,OAKbF,IAAf,QACO,EAA2KA,EAAWpD,QAA/KwD,EAAP,EAAOA,gBAAiBE,EAAxB,EAAwBA,gBAAiBD,EAAzC,EAAyCA,kBAAmBG,EAA5D,EAA4DA,gBAAiBD,EAA7E,EAA6EA,iBAAkBE,EAA/F,EAA+FA,aAAcG,EAA7G,EAA6GA,WAAYF,EAAzH,EAAyHA,wBAAyBC,EAAlJ,EAAkJA,sBE7D5IE,EAAU,uCAAG,WAAO/D,EAAuBgE,EAAc7E,EAAckE,EAAyBD,GAAnF,eAAAlD,EAAA,sEAEtBF,EAASsD,KAFa,SAGCnD,IAAMC,IAAa,0CAA2C,CACnF6D,OAAQ,CAAED,OAAM7E,OAAMkE,kBAAiBD,mBAJnB,OAGhB/C,EAHgB,OAOtBC,YAAW,WACmB,IAAzBD,EAASE,KAAKqC,QAAgBoB,EAAO,EACtChE,EAAS0D,KAGX1D,EAASuD,EAAkBlD,EAASE,SACnC,KAbmB,gDAetBD,YAAW,WACTN,EAASwD,EAAgB,+LACxB,KAjBmB,yDAAH,8DCYjBU,EAAkBhF,YAAY,CAClCC,KAAM,QACNC,aAToC,CACpC+D,MAAO,GACPgB,WAAY,GACZC,OAAQ,GACRzF,cAAe,GAMfa,SAAU,CACR6E,QADQ,SACAzF,EAAwBe,GAC9Bf,EAAMuE,MAAMmB,KAAK3E,EAAOC,SACxBhB,EAAMD,cAAgBC,EAAMD,cAAgB,GAE9C4F,WALQ,SAKG3F,EAAwBe,GACjCf,EAAMuE,MAAQvE,EAAMuE,MAAMqB,QAAO,SAAAnF,GAAI,OAAIA,EAAKoD,MAAQ9C,EAAOC,WAC7DhB,EAAMD,cAAgBC,EAAMD,cAAgB,GAE9C8F,aATQ,SASK7F,EAAwBe,GACnCf,EAAMuF,WAAWG,KAAK3E,EAAOC,SAC7BhB,EAAMD,cAAgBC,EAAMD,cAAgB,GAE9C+F,gBAbQ,SAaQ9F,EAAwBe,GACtCf,EAAMuF,WAAavF,EAAMuF,WAAWK,QAAO,SAAAG,GAAS,OAAIA,EAAUlC,MAAQ9C,EAAOC,WACjFhB,EAAMD,cAAgBC,EAAMD,cAAgB,GAE9CiG,SAjBQ,SAiBChG,EAAwBe,GAC/Bf,EAAMwF,OAAOE,KAAK3E,EAAOC,SACzBhB,EAAMD,cAAgBC,EAAMD,cAAgB,GAE9CkG,YArBQ,SAqBIjG,EAAwBe,GAClCf,EAAMwF,OAASxF,EAAMwF,OAAOI,QAAO,SAAAM,GAAK,OAAIA,EAAMrC,MAAQ9C,EAAOC,WACjEhB,EAAMD,cAAgBC,EAAMD,cAAgB,MAKnCuF,IAAf,QACO,EAAoFA,EAAgBpE,QAA7FuE,EAAP,EAAOA,QAASI,EAAhB,EAAgBA,aAAcG,GAA9B,EAA8BA,SAAUL,GAAxC,EAAwCA,WAAYG,GAApD,EAAoDA,gBAAiBG,GAArE,EAAqEA,YCtCtEE,GAAe7F,YAAY,CAC/BC,KAAM,UACNC,aANiC,CACjC4F,QAAS,IAMTxF,SAAU,CACRyF,eADQ,SACOrG,EAAqBe,GAC/Bf,EAAMoG,QAAQjC,MAAK,SAAAC,GAAI,OAAIA,EAAKP,MAAQ9C,EAAOC,QAAQ6C,SACxD7D,EAAMoG,QAAUpG,EAAMoG,QAAQR,QAAO,SAAAxB,GAAI,OAAIA,EAAKP,MAAQ9C,EAAOC,QAAQ6C,QAE/C,KAAzB7D,EAAMoG,QAAQpC,QACfhE,EAAMoG,QAAQE,MAEhBtG,EAAMoG,QAAQG,QAAQxF,EAAOC,aAKpBmF,MAAf,QACcE,GAAkBF,GAAajF,QAA/BmF,eCwFCG,I,MApGS,WACtB,IAAMC,EAAUC,cAChB,EAAqF9G,GAAe,SAAAI,GAAK,OAAIA,EAAMuE,SAA5GA,EAAP,EAAOA,MAAOf,EAAd,EAAcA,YAAa7C,EAA3B,EAA2BA,MAAOD,EAAlC,EAAkCA,UAAWH,EAA7C,EAA6CA,KAAMiE,EAAnD,EAAmDA,cAAeC,EAAlE,EAAkEA,gBAC5DxE,EAAaL,GAAe,SAAAI,GAAK,OAAIA,EAAMC,cAC3CmB,EAAW1B,IAYjB,OAVAoC,qBAAU,WACRV,EAAS8D,OAER,IAEHpD,qBAAU,WACRqD,EAAW/D,EAAUoC,EAAajD,EAAMkE,EAAiBD,KAExD,CAAChB,EAAajD,EAAMkE,EAAiBD,IAErC9D,EAEC,eAAC,EAAD,WACE,sBAAKjB,UAAU,QAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,cAAC,EAAD,CAAaiE,QAASqB,IACtB,iCACE,sBAAMtF,UAAU,cAAhB,2BACA,cAAC,EAAD,CAAYsD,QAASiC,IACrB,sBAAMvF,UAAU,cAAhB,2BACA,cAAC,EAAD,CAAYsD,QAASkC,UAGzB,qBAAKxF,UAAU,oBAAf,SACE,qBAAKA,UAAU,gCAGnB,cAAC,EAAD,CAASH,KAAK,IAAIC,MAAM,+DAK3BoB,EAEC,eAAC,EAAD,WACE,sBAAKlB,UAAU,QAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,cAAC,EAAD,CAAaiE,QAASqB,IACtB,iCACE,sBAAMtF,UAAU,cAAhB,2BACA,cAAC,EAAD,CAAYsD,QAASiC,IACrB,sBAAMvF,UAAU,cAAhB,2BACA,cAAC,EAAD,CAAYsD,QAASkC,UAGzB,qBAAKxF,UAAU,cAAf,SAA8BkB,OAEhC,cAAC,EAAD,CAASrB,KAAK,IAAIC,MAAM,+DAM5B,eAAC,EAAD,WACE,sBAAKE,UAAU,QAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,cAAC,EAAD,CAAaiE,QAASqB,IACtB,iCACE,sBAAMtF,UAAU,cAAhB,2BACA,cAAC,EAAD,CAAYsD,QAASiC,IACrB,sBAAMvF,UAAU,cAAhB,2BACA,cAAC,EAAD,CAAYsD,QAASkC,UAGzB,sBAAKxF,UAAU,mBAAf,WAEK8E,EAAMP,QAAU,qBAAKvE,UAAU,cAAf,uMAGjB8E,EAAMoC,KAAI,SAAAlG,GAAI,OACZ,cAAC,EAAD,CAEElB,MAAOkB,EAAKF,KACZgC,YAAW,gDAAa9B,EAAKsB,QAAQC,KAAK,MAA/B,mDAAiDvB,EAAK0B,QAAtD,yFAAkF1B,EAAKwB,cAAvF,KACXO,QAAS,WACPiE,EAAQf,KAAK,UAAY9B,EAAgBnD,EAAKoD,MAC9CzC,EAASiF,GAAe5F,KAE1BgC,MAAO,kBAAMrB,EAASqE,EAAQhF,KAC9BiC,SAAU,kBAAMtB,EAASuE,GAAWlF,EAAKoD,OACzClB,SAAUsB,EAASxD,EAAKoD,IAAK5D,EAAWsE,QATnC9D,EAAKoD,cAepB,cAAC,EAAD,CAASvE,KAAK,IAAIC,MAAM,8DAEpBgF,EAAMP,QAAU,cAAC,EAAD,CAAYV,WAAY,kBAAMlC,EAAS0D,MAAoBvB,YAAa,kBAAMnC,EAASyD,MAAqBrB,YAAaA,SC/F7IoD,GAAiBtG,YAAY,CACjCC,KAAM,YACNC,aARmC,CACnCE,WAAW,EACXC,MAAO,GACPoF,UAAW,MAMXnF,SAAU,CACRiG,oBADQ,SACY7G,GAClBA,EAAMU,WAAY,EAClBV,EAAMW,MAAQ,IAEhBmG,sBALQ,SAKc9G,EAAuBe,GAC3Cf,EAAMU,WAAY,EAClBV,EAAM+F,UAAYhF,EAAOC,SAE3B+F,oBATQ,SASY/G,EAAuBe,GACzCf,EAAMU,WAAY,EAClBV,EAAMW,MAAQI,EAAOC,YAKZ4F,MAAf,QACO,GAA0EA,GAAe1F,QAAlF6F,GAAP,GAAOA,oBAAqBF,GAA5B,GAA4BA,oBAAqBC,GAAjD,GAAiDA,sBC9B3CE,GAAc,uCAAG,WAAO5F,EAAuBC,GAA9B,eAAAC,EAAA,sEAE1BF,EAASyF,MAFiB,SAGHtF,IAAMC,IAAgB,gDAAkDH,GAHrE,OAGpBI,EAHoB,OAK1BC,YAAW,WACTN,EAAS0F,GAAsBrF,EAASE,SACvC,KAPuB,gDAS1BP,EAAS2F,GAAoB,oKATH,yDAAH,wDC0FZE,I,MAvFa,WAC1B,IAAO5F,EAAMQ,cAANR,GACDD,EAAW1B,IACjB,EAAsCE,GAAe,SAAAI,GAAK,OAAIA,EAAM+F,aAA7DA,EAAP,EAAOA,UAAWpF,EAAlB,EAAkBA,MAAOD,EAAzB,EAAyBA,UAOzB,OALAoB,qBAAU,WACRkF,GAAe5F,EAAUC,KAExB,IAEAX,EAEC,eAAC,EAAD,WACE,qBAAKjB,UAAU,YAAf,SACE,qBAAKA,UAAU,oBAAf,SACE,qBAAKA,UAAU,+BAGnB,cAAC,EAAD,CAASH,KAAK,cAAcC,MAAM,sCAKrCoB,EAEC,eAAC,EAAD,WACE,qBAAKlB,UAAU,YAAf,SACE,qBAAKA,UAAU,kBAAf,SAAkCkB,MAEpC,cAAC,EAAD,CAASrB,KAAK,cAAcC,MAAM,sCAMtC,eAAC,EAAD,WACE,sBAAKE,UAAU,YAAf,UACE,oBAAIA,UAAU,mBAAd,UAA2C,OAATsG,QAAS,IAATA,OAAA,EAAAA,EAAWxF,OAAQ,oFACrD,oBAAId,UAAU,sBAAd,UAA8C,OAATsG,QAAS,IAATA,OAAA,EAAAA,EAAWmB,MAAO,kFAAmB,wEAE1E,sBAAKzH,UAAU,iBAAf,UACE,0DADF,OAEGsG,QAFH,IAEGA,OAFH,EAEGA,EAAWoB,UAGd,sBAAK1H,UAAU,iBAAf,UACE,wFADF,OAEGsG,QAFH,IAEGA,OAFH,EAEGA,EAAWqB,WAGd,sBAAK3H,UAAU,iBAAf,UACE,kFADF,OAEGsG,QAFH,IAEGA,OAFH,EAEGA,EAAWsB,QAGd,sBAAK5H,UAAU,iBAAf,UACE,gEADF,OAEGsG,QAFH,IAEGA,OAFH,EAEGA,EAAWmB,QAGd,sBAAKzH,UAAU,iBAAf,UACE,4EADF,OAGIsG,QAHJ,IAGIA,OAHJ,EAGIA,EAAWuB,OAAOtF,KAAK,SAI3B,sBAAKvC,UAAU,iBAAf,UACE,wFADF,OAGIsG,QAHJ,IAGIA,OAHJ,EAGIA,EAAWwB,QAAQvF,KAAK,SAI5B,sBAAKvC,UAAU,iBAAf,UACE,8EADF,OAGIsG,QAHJ,IAGIA,OAHJ,EAGIA,EAAWyB,SAASxF,KAAK,YAK/B,cAAC,EAAD,CAAS1C,KAAK,cAAcC,MAAM,wC,gBPjF5B8E,K,YAAAA,E,gBAAAA,E,QAAAA,M,KAMZ,IAgBeoD,GAhBmC,SAAC,GAAiB,IAAhBC,EAAe,EAAfA,UAC5CtG,EAAW1B,IAMjB,OACE,yBAAQD,UAAU,eAAekI,SALb,SAAC/E,GACrBxB,EAASsG,EAAU9E,EAAEO,cAAcC,SAInC,UACE,wBAAQA,MAAOiB,EAAOuD,IAAtB,gCACA,wBAAQxE,MAAOiB,EAAOwD,KAAtB,wDACA,wBAAQzE,MAAOiB,EAAOyD,OAAtB,4DQbAtH,GAAgC,CACpC+E,WAAY,GACZ/B,YAAa,EACb9C,WAAW,EACXC,MAAO,GACPJ,KAAM,GACN4G,OAAQ9C,EAAOuD,KAGXG,GAAkBzH,YAAY,CAClCC,KAAM,QACNC,gBACAI,SAAU,CACRoH,qBADQ,SACahI,GACnBA,EAAMU,WAAY,EAClBV,EAAMW,MAAQ,IAEhBsH,uBALQ,SAKejI,EAAwBe,GAC7Cf,EAAMU,WAAY,EAClBV,EAAMuF,WAAaxE,EAAOC,SAE5BkH,qBATQ,SASalI,EAAwBe,GAC3Cf,EAAMU,WAAY,EAClBV,EAAMW,MAAQI,EAAOC,SAEvBmH,sBAbQ,SAacnI,GACpBA,EAAMwD,YAAcxD,EAAMwD,YAAc,GAE1C4E,qBAhBQ,SAgBapI,GACM,IAAtBA,EAAMwD,cACPxD,EAAMwD,YAAcxD,EAAMwD,YAAc,IAG5C6E,kBArBQ,SAqBUrI,EAAwBe,GACxCf,EAAMO,KAAOQ,EAAOC,QACpBhB,EAAMwD,YAAc,GAEtB8E,oBAzBQ,SAyBYtI,EAAwBe,GAC1Cf,EAAMmH,OAASpG,EAAOC,SAExBuH,gBA5BQ,SA4BQvI,GACdA,EAAMO,KAAO,GACbP,EAAMmH,OAAS9C,EAAOuD,QAKbG,MAAf,QACO,GAAmLA,GAAgB7G,QAA5LgH,GAAP,GAAOA,qBAAsBF,GAA7B,GAA6BA,qBAAsBC,GAAnD,GAAmDA,uBAAwBE,GAA3E,GAA2EA,sBAAuBC,GAAlG,GAAkGA,qBAAsBC,GAAxH,GAAwHA,kBAAmBE,GAA3I,GAA2IA,gBAAiBD,GAA5J,GAA4JA,oBCxDtJE,GAAe,uCAAG,WAAOpH,EAAuBgE,EAAc7E,EAAc4G,GAA1D,eAAA7F,EAAA,sEAE3BF,EAAS4G,MAFkB,SAGJzG,IAAMC,IAAkB,+CAAgD,CAC7F6D,OAAQ,CAAED,OAAM7E,OAAM4G,YAJG,OAGrB1F,EAHqB,OAO3BC,YAAW,WACmB,IAAzBD,EAASE,KAAKqC,QAAgBoB,EAAO,EACtChE,EAASgH,MAGXhH,EAAS6G,GAAuBxG,EAASE,SACxC,KAbwB,gDAe3BD,YAAW,WACTN,EAAS8G,GAAqB,mOAC7B,KAjBwB,yDAAH,4DCgGbO,I,MArFc,WAC3B,IAAMhC,EAAUC,cAChB,EAAkE9G,GAAe,SAAAI,GAAK,OAAIA,EAAMuF,cAAzFA,EAAP,EAAOA,WAAY/B,EAAnB,EAAmBA,YAAa9C,EAAhC,EAAgCA,UAAWC,EAA3C,EAA2CA,MAAOJ,EAAlD,EAAkDA,KAAM4G,EAAxD,EAAwDA,OAClDlH,EAAaL,GAAe,SAAAI,GAAK,OAAIA,EAAMC,cAC3CmB,EAAW1B,IAYjB,OAVAoC,qBAAU,WACRV,EAASmH,QAER,IAEHzG,qBAAU,WACR0G,GAAgBpH,EAAUoC,EAAajD,EAAM4G,KAE5C,CAAC3D,EAAajD,EAAM4G,IAEpBzG,EAEC,eAAC,EAAD,WACE,sBAAKjB,UAAU,aAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,cAAC,EAAD,CAAaiE,QAAS2E,KACtB,cAAC,GAAD,CAAcX,UAAWY,QAE3B,qBAAK7I,UAAU,oBAAf,SACE,qBAAKA,UAAU,gCAGnB,cAAC,EAAD,CAASH,KAAK,IAAIC,MAAM,+DAK3BoB,EAEC,eAAC,EAAD,WACE,sBAAKlB,UAAU,aAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,cAAC,EAAD,CAAaiE,QAAS2E,KACtB,cAAC,GAAD,CAAcX,UAAWY,QAE3B,qBAAK7I,UAAU,mBAAf,SAAmCkB,OAErC,cAAC,EAAD,CAASrB,KAAK,IAAIC,MAAM,+DAM5B,eAAC,EAAD,WACE,sBAAKE,UAAU,aAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,cAAC,EAAD,CAAaiE,QAAS2E,KACtB,cAAC,GAAD,CAAcX,UAAWY,QAE3B,sBAAK7I,UAAU,wBAAf,WAEK8F,EAAWvB,QAAU,qBAAKvE,UAAU,mBAAf,uMAGtB8F,EAAWoB,KAAI,SAAAZ,GAAS,OACtB,cAAC,EAAD,CAEExG,MAAOwG,EAAUxF,MAAQ,kFACzBgC,YAAW,4DAAewD,EAAUqB,SAAW,+DAApC,iCAA0DrB,EAAUoB,OAApE,aAA+EpB,EAAUmB,MAAQ,mFAC5G1E,QAAS,WACPiE,EAAQf,KAAK,eAAiB9B,EAAgBmC,EAAUlC,MACxDzC,EAASiF,GAAeN,KAE1BtD,MAAO,kBAAMrB,EAASyE,EAAaE,KACnCrD,SAAU,kBAAMtB,EAAS0E,GAAgBC,EAAUlC,OACnDlB,SAAUsB,EAAS8B,EAAUlC,IAAK5D,EAAWsF,aATxCQ,EAAUlC,cAezB,cAAC,EAAD,CAASvE,KAAK,IAAIC,MAAM,8DAEpBgG,EAAWvB,QAAU,cAAC,EAAD,CAAYV,WAAY,kBAAMlC,EAASgH,OAAyB7E,YAAa,kBAAMnC,EAAS+G,OAA0B3E,YAAaA,SCFnJkF,I,MAlFc,WAC3B,IAAMjC,EAAUC,cAChB,EAAoC9G,GAAe,SAAAI,GAAK,OAAIA,EAAMC,cAA3DsE,EAAP,EAAOA,MAAOgB,EAAd,EAAcA,WAAYC,EAA1B,EAA0BA,OACpBpE,EAAW1B,IAEjB,OACE,eAAC,EAAD,WACE,sBAAKD,UAAU,aAAf,UACE,oBAAIA,UAAU,oBAAd,4CACA,sBAAKA,UAAU,wBAAf,WAEK8E,EAAMP,QAAU,qBAAKvE,UAAU,mBAAf,oGAGjB8E,EAAMoC,KAAI,SAAAlG,GAAI,OACZ,cAAC,EAAD,CAEElB,MAAOkB,EAAKF,KACZgC,YAAW,gDAAa9B,EAAKsB,QAAQC,KAAK,MAA/B,mDAAiDvB,EAAK0B,QAAtD,yFAAkF1B,EAAKwB,cAAvF,KACXO,QAAS,WACPiE,EAAQf,KAAK,UAAY9B,EAAgBnD,EAAKoD,MAC9CzC,EAASiF,GAAe5F,KAE1BgC,MAAO,kBAAMrB,EAASqE,EAAQhF,KAC9BiC,SAAU,kBAAMtB,EAASuE,GAAWlF,EAAKoD,OACzClB,SAAUsB,EAASxD,EAAKoD,IAAKU,IATxB9D,EAAKoD,WAelB,oBAAIpE,UAAU,oBAAd,oEACA,sBAAKA,UAAU,wBAAf,WAEK8F,EAAWvB,QAAU,qBAAKvE,UAAU,mBAAf,oGAGtB8F,EAAWoB,KAAI,SAAAZ,GAAS,OACtB,cAAC,EAAD,CAEExG,MAAOwG,EAAUxF,MAAQ,kFACzBgC,YAAW,4DAAewD,EAAUqB,SAAW,+DAApC,iCAA0DrB,EAAUoB,OAApE,aAA+EpB,EAAUmB,MAAQ,mFAC5G1E,QAAS,WACPiE,EAAQf,KAAK,eAAiB9B,EAAgBmC,EAAUlC,MACxDzC,EAASiF,GAAeN,KAE1BtD,MAAO,kBAAMrB,EAASyE,EAAaE,KACnCrD,SAAU,kBAAMtB,EAAS0E,GAAgBC,EAAUlC,OACnDlB,SAAUsB,EAAS8B,EAAUlC,IAAK0B,IAT7BQ,EAAUlC,WAevB,oBAAIpE,UAAU,oBAAd,uEACA,sBAAKA,UAAU,wBAAf,WAEK+F,EAAOxB,QAAU,qBAAKvE,UAAU,mBAAf,oGAGlB+F,EAAOmB,KAAI,SAAAT,GAAK,OACd,cAAC,EAAD,CAEE3G,MAAO2G,EAAM3F,KACbgC,YAAW,gDAAa2D,EAAMyC,OAAnB,uCAAoCzC,EAAM0C,YAAc,+DAAxD,KACXpG,QAAS,WACPiE,EAAQf,KAAK,WAAa9B,EAAgBsC,EAAMrC,MAChDzC,EAASiF,GAAeH,KAE1BzD,MAAO,kBAAMrB,EAAS4E,GAASE,KAC/BxD,SAAU,kBAAMtB,EAAS6E,GAAYC,EAAMrC,OAC3ClB,SAAUsB,EAASiC,EAAMrC,IAAK2B,IATzBU,EAAMrC,cAerB,cAAC,EAAD,CAASvE,KAAK,IAAIC,MAAM,iECzExBsJ,GAAavI,YAAY,CAC7BC,KAAM,QACNC,aAR+B,CAC/BE,WAAW,EACXC,MAAO,GACPuF,MAAO,MAMPtF,SAAU,CACRkI,gBADQ,SACQ9I,GACdA,EAAMU,WAAY,EAClBV,EAAMW,MAAQ,IAEhBoI,kBALQ,SAKU/I,EAAmBe,GACnCf,EAAMU,WAAY,EAClBV,EAAMkG,MAAQnF,EAAOC,SAEvBgI,gBATQ,SASQhJ,EAAmBe,GACjCf,EAAMU,WAAY,EAClBV,EAAMW,MAAQI,EAAOC,YAKZ6H,MAAf,QACO,GAA8DA,GAAW3H,QAAlE8H,GAAP,GAAOA,gBAAiBF,GAAxB,GAAwBA,gBAAiBC,GAAzC,GAAyCA,kBC9BnCE,GAAU,uCAAG,WAAO7H,EAAuBC,GAA9B,eAAAC,EAAA,sEAEtBF,EAAS0H,MAFa,SAGCvH,IAAMC,IAAY,4CAA8CH,GAHjE,OAGhBI,EAHgB,OAKtBC,YAAW,WACTN,EAAS2H,GAAkBtH,EAASE,SACnC,KAPmB,gDAStBP,EAAS4H,GAAgB,oKATH,yDAAH,wDC0ERE,I,MAvES,WACtB,IAAO7H,EAAMQ,cAANR,GACDD,EAAW1B,IACjB,EAAkCE,GAAe,SAAAI,GAAK,OAAIA,EAAMkG,SAAzDA,EAAP,EAAOA,MAAOvF,EAAd,EAAcA,MAAOD,EAArB,EAAqBA,UAOrB,OALAoB,qBAAU,WACRmH,GAAW7H,EAAUC,KAEpB,IAEAX,EAEC,eAAC,EAAD,WACE,qBAAKjB,UAAU,QAAf,SACE,qBAAKA,UAAU,oBAAf,SACE,qBAAKA,UAAU,+BAGnB,cAAC,EAAD,CAASH,KAAK,UAAUC,MAAM,sCAKjCoB,EAEC,eAAC,EAAD,WACE,qBAAKlB,UAAU,QAAf,SACE,qBAAKA,UAAU,cAAf,SAA8BkB,MAEhC,cAAC,EAAD,CAASrB,KAAK,UAAUC,MAAM,sCAMlC,eAAC,EAAD,WACE,sBAAKE,UAAU,QAAf,UACE,oBAAIA,UAAU,eAAd,gBAA8ByG,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAO3F,OACrC,oBAAId,UAAU,kBAAd,gBAAiCyG,QAAjC,IAAiCA,OAAjC,EAAiCA,EAAOyC,SAExC,sBAAKlJ,UAAU,aAAf,UACE,gEADF,OAEGyG,QAFH,IAEGA,OAFH,EAEGA,EAAO0C,cAGV,sBAAKnJ,UAAU,aAAf,UACE,sEADF,OAEGyG,QAFH,IAEGA,OAFH,EAEGA,EAAOiD,SAGV,sBAAK1J,UAAU,aAAf,UACE,kFADF,OAEGyG,QAFH,IAEGA,OAFH,EAEGA,EAAOkD,WAGV,sBAAK3J,UAAU,aAAf,UACE,4EADF,OAEGyG,QAFH,IAEGA,OAFH,EAEGA,EAAOoB,OAAOtF,KAAK,SAGtB,sBAAKvC,UAAU,aAAf,UACE,sEADF,OAEGyG,QAFH,IAEGA,OAFH,EAEGA,EAAOmD,MAAMrH,KAAK,YAIvB,cAAC,EAAD,CAAS1C,KAAK,UAAUC,MAAM,wCCvD9B+J,GAAchJ,YAAY,CAC9BC,KAAM,QACNC,aAVgC,CAChCgF,OAAQ,GACRhC,YAAa,EACb7C,MAAO,GACPD,WAAW,EACXH,KAAM,IAMNK,SAAU,CACR2I,iBADQ,SACSvJ,GACfA,EAAMU,WAAY,EAClBV,EAAMW,MAAQ,IAEhB6I,mBALQ,SAKWxJ,EAAoBe,GACrCf,EAAMU,WAAY,EAClBV,EAAMwF,OAASzE,EAAOC,SAExByI,iBATQ,SASSzJ,EAAoBe,GACnCf,EAAMU,WAAY,EAClBV,EAAMW,MAAQI,EAAOC,SAEvB0I,kBAbQ,SAaU1J,GAChBA,EAAMwD,YAAcxD,EAAMwD,YAAc,GAE1CmG,iBAhBQ,SAgBS3J,GACU,IAAtBA,EAAMwD,cACPxD,EAAMwD,YAAcxD,EAAMwD,YAAc,IAG5CoG,cArBQ,SAqBM5J,EAAoBe,GAChCf,EAAMO,KAAOQ,EAAOC,QACpBhB,EAAMwD,YAAc,GAEtBqG,gBAzBQ,SAyBQ7J,GACdA,EAAMO,KAAO,OAKJ+I,MAAf,QACO,GAAsIA,GAAYpI,QAA3IuI,GAAP,GAAOA,iBAAkBF,GAAzB,GAAyBA,iBAAkBC,GAA3C,GAA2CA,mBAAoBG,GAA/D,GAA+DA,iBAAkBD,GAAjF,GAAiFA,kBAAmBE,GAApG,GAAoGA,cAAeC,GAAnH,GAAmHA,gBCjD7GC,GAAW,uCAAG,WAAO1I,EAAuBgE,EAAc7E,GAA5C,eAAAe,EAAA,sEAEvBF,EAASmI,MAFc,SAGAhI,IAAMC,IAAc,2CAA4C,CACrF6D,OAAQ,CAAED,OAAM7E,UAJK,OAGjBkB,EAHiB,OAOvBC,YAAW,WACmB,IAAzBD,EAASE,KAAKqC,QAAgBoB,EAAO,EACtChE,EAASuI,MAGXvI,EAASoI,GAAmB/H,EAASE,SACpC,KAboB,gDAevBD,YAAW,WACTN,EAASqI,GAAiB,qMACzB,KAjBoB,yDAAH,0DCsFTM,I,MA5EU,WACvB,IAAMtD,EAAUC,cAChB,EAAsD9G,GAAe,SAAAI,GAAK,OAAIA,EAAMwF,UAA7EA,EAAP,EAAOA,OAAQhC,EAAf,EAAeA,YAAa9C,EAA5B,EAA4BA,UAAWC,EAAvC,EAAuCA,MAAOJ,EAA9C,EAA8CA,KACxCN,EAAaL,GAAe,SAAAI,GAAK,OAAIA,EAAMC,cAC3CmB,EAAW1B,IAYjB,OAVAoC,qBAAU,WACRV,EAASyI,QAER,IAEH/H,qBAAU,WACRgI,GAAY1I,EAAUoC,EAAajD,KAElC,CAACiD,EAAajD,IAEdG,EAEC,eAAC,EAAD,WACE,sBAAKjB,UAAU,SAAf,UACE,cAAC,EAAD,CAAaiE,QAASkG,KACtB,qBAAKnK,UAAU,oBAAf,SACE,qBAAKA,UAAU,gCAGnB,cAAC,EAAD,CAASH,KAAK,IAAIC,MAAM,+DAK3BoB,EAEC,eAAC,EAAD,WACE,sBAAKlB,UAAU,SAAf,UACE,cAAC,EAAD,CAAaiE,QAASkG,KACtB,qBAAKnK,UAAU,eAAf,SAA+BkB,OAEjC,cAAC,EAAD,CAASrB,KAAK,IAAIC,MAAM,+DAM5B,eAAC,EAAD,WACE,sBAAKE,UAAU,SAAf,UACE,cAAC,EAAD,CAAaiE,QAASkG,KACtB,sBAAKnK,UAAU,oBAAf,WAEK+F,EAAOxB,QAAU,qBAAKvE,UAAU,eAAf,uMAGlB+F,EAAOmB,KAAI,SAAAT,GAAK,OACd,cAAC,EAAD,CAEE3G,MAAO2G,EAAM3F,KACbgC,YAAW,gDAAa2D,EAAMyC,OAAnB,uCAAoCzC,EAAM0C,YAAc,+DAAxD,KACXpG,QAAS,WACPiE,EAAQf,KAAK,WAAa9B,EAAgBsC,EAAMrC,MAChDzC,EAASiF,GAAeH,KAE1BzD,MAAO,kBAAMrB,EAAS4E,GAASE,KAC/BxD,SAAU,kBAAMtB,EAAS6E,GAAYC,EAAMrC,OAC3ClB,SAAUsB,EAASiC,EAAMrC,IAAK5D,EAAWuF,SATpCU,EAAMrC,cAerB,cAAC,EAAD,CAASvE,KAAK,IAAIC,MAAM,8DAEpBiG,EAAOxB,QAAU,cAAC,EAAD,CAAYV,WAAY,kBAAMlC,EAASuI,OAAqBpG,YAAa,kBAAMnC,EAASsI,OAAsBlG,YAAaA,SCCvIwG,I,MA3EQ,WACrB,IAAO5D,EAAWxG,GAAe,SAAAI,GAAK,OAAIA,EAAMoG,WAAzCA,QACDnG,EAAaL,GAAe,SAAAI,GAAK,OAAIA,EAAMC,cAC3CmB,EAAW1B,IACX+G,EAAUC,cAEhB,OACE,cAAC,EAAD,UACE,sBAAKjH,UAAU,OAAf,UACE,oBAAIA,UAAU,iBAAd,yIACA,oBAAIA,UAAU,cAAd,6FACA,sBAAKA,UAAU,QAAf,UACE,cAAC,IAAD,CAASD,GAAG,SAASC,UAAU,cAA/B,4CACA,cAAC,IAAD,CAASD,GAAG,cAAcC,UAAU,cAApC,oEACA,cAAC,IAAD,CAASD,GAAG,UAAUC,UAAU,cAAhC,0EAGF,oBAAIA,UAAU,sBAAd,8IACA,sBAAKA,UAAU,kBAAf,WAEK2G,EAAQpC,QAAU,qBAAKvE,UAAU,aAAf,oGAInB2G,EAAQO,KAAI,SAACvC,GACX,MAAG,YAAaA,EACP,cAAC,EAAD,CAEL7E,MAAO6E,EAAK7D,KACZgC,YAAW,gDAAa6B,EAAKrC,QAAQC,KAAK,MAA/B,mDAAiDoC,EAAKjC,QAAtD,yFAAkFiC,EAAKnC,cAAvF,KACXO,QAAS,WACPiE,EAAQf,KAAK,UAAY9B,EAAgBQ,EAAKP,MAC9CzC,EAASiF,GAAejC,KAE1B3B,MAAO,kBAAMrB,EAASqE,EAAQrB,KAC9B1B,SAAU,kBAAMtB,EAASuE,GAAWvB,EAAKP,OACzClB,SAAUsB,EAASG,EAAKP,IAAK5D,EAAWsE,QATnCH,EAAKP,KAYX,WAAYO,EACN,cAAC,EAAD,CAEL7E,MAAO6E,EAAK7D,MAAQ,kFACpBgC,YAAW,4DAAe6B,EAAKgD,SAAW,+DAA/B,iCAAqDhD,EAAK+C,OAA1D,aAAqE/C,EAAK8C,MAAQ,mFAC7F1E,QAAS,WACPiE,EAAQf,KAAK,eAAiB9B,EAAgBQ,EAAKP,MACnDzC,EAASiF,GAAejC,KAE1B3B,MAAO,kBAAMrB,EAASyE,EAAazB,KACnC1B,SAAU,kBAAMtB,EAAS0E,GAAgB1B,EAAKP,OAC9ClB,SAAUsB,EAASG,EAAKP,IAAK5D,EAAWsF,aATnCnB,EAAKP,KAYX,eAAgBO,EACV,cAAC,EAAD,CAEL7E,MAAO6E,EAAK7D,KACZgC,YAAW,gDAAa6B,EAAKuE,OAAlB,uCAAmCvE,EAAKwE,YAAc,+DAAtD,KACXpG,QAAS,WACPiE,EAAQf,KAAK,WAAa9B,EAAgBQ,EAAKP,MAC/CzC,EAASiF,GAAejC,KAE1B3B,MAAO,kBAAMrB,EAAS4E,GAAS5B,KAC/B1B,SAAU,kBAAMtB,EAAS6E,GAAY7B,EAAKP,OAC1ClB,SAAUsB,EAASG,EAAKP,IAAK5D,EAAWuF,SATnCpB,EAAKP,UAFd,eCtCCoG,GAfO,WACpB,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO3K,KAAK,IAAI4K,OAAK,EAACC,UAAWH,KACjC,cAAC,IAAD,CAAO1K,KAAK,SAAS4K,OAAK,EAACC,UAAW3D,KACtC,cAAC,IAAD,CAAOlH,KAAK,aAAa4K,OAAK,EAACC,UAAWvI,IAC1C,cAAC,IAAD,CAAOtC,KAAK,cAAc4K,OAAK,EAACC,UAAW1B,KAC3C,cAAC,IAAD,CAAOnJ,KAAK,kBAAkB4K,OAAK,EAACC,UAAWlD,KAC/C,cAAC,IAAD,CAAO3H,KAAK,UAAU4K,OAAK,EAACC,UAAWJ,KACvC,cAAC,IAAD,CAAOzK,KAAK,cAAc4K,OAAK,EAACC,UAAWjB,KAC3C,cAAC,IAAD,CAAO5J,KAAK,cAAc6K,UAAWzB,S,SCXrC0B,GAAcC,aAAgB,CAClC9F,MAAOD,EACPkB,OAAQ8D,GACR/D,WAAYwC,GACZ9H,WAAYqF,EACZc,QAASD,GACT1F,KAAMJ,EACN0F,UAAWa,GACXV,MAAO2C,KCVTyB,IAASC,OACP,cAAC,IAAD,UACE,cAAC,IAAD,CAAUC,MDYLC,YAAe,CACpBC,QAASN,KCbT,SACE,cAAC,GAAD,QAGJO,SAASC,eAAe,W","file":"static/js/main.5f8ab816.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./BtnLink.css\";\r\n\r\ninterface BtnLinkProps {\r\n  path: string;\r\n  title: string;\r\n}\r\n\r\nconst BtnLink: React.FC<BtnLinkProps> = ({path, title}) => {\r\n  return (\r\n    <NavLink to={path} className=\"BtnLink\">\r\n      {title}\r\n    </NavLink>\r\n  );\r\n}\r\n\r\nexport default BtnLink;","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport { AppDispatch, RootState } from \"../store/store\";\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useAppSelector } from \"../../hooks/redux\";\r\nimport \"./Header.css\";\r\n\r\nconst Header: React.FC = () => {\r\n  const {amountOfItems} = useAppSelector(state => state.favourites);\r\n\r\n  return (\r\n    <div className=\"Header\">\r\n      <NavLink to=\"/books\" className=\"Header__item\" activeClassName=\"Header__item_active\">\r\n        Книги\r\n      </NavLink>\r\n      <NavLink to=\"/characters\" className=\"Header__item\" activeClassName=\"Header__item_active\">\r\n        Персонажи\r\n      </NavLink>\r\n      <NavLink to=\"/houses\" className=\"Header__item\" activeClassName=\"Header__item_active\">\r\n        Дома / Семьи\r\n      </NavLink>\r\n      <NavLink to=\"/favourites\" className=\"Header__item\" activeClassName=\"Header__item_active\">\r\n        Избранное\r\n        <div className=\"Header__fav-number\">{amountOfItems}</div>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport \"./Page.css\";\r\nimport Header from \"../../components/Header/Header\";\r\n\r\nconst Page: React.FC = ({children}) => {\r\n  return (\r\n    <div className=\"Page\">\r\n      <Header />\r\n      <div className=\"Page__container\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Page;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { IBook } from \"../../types/types\";\r\n\r\ninterface BookState {\r\n  book: IBook | null;\r\n  isLoading: boolean;\r\n  error: string;\r\n}\r\n\r\nconst initialState: BookState = {\r\n  book: null,\r\n  isLoading: false,\r\n  error: \"\",\r\n};\r\n\r\nconst bookSlice = createSlice({\r\n  name: \"book\",\r\n  initialState,\r\n  reducers: {\r\n    fetchBookStart(state: BookState) {\r\n      state.isLoading = true;\r\n      state.error = \"\";\r\n    },\r\n    fetchBookSuccess(state: BookState, action: PayloadAction<IBook>) {\r\n      state.isLoading = false;\r\n      state.book = action.payload;\r\n    },\r\n    fetchBookError(state: BookState, action: PayloadAction<string>) {\r\n      state.isLoading = false;\r\n      state.error = \"\";\r\n    },\r\n  },\r\n});\r\n\r\nexport default bookSlice.reducer;\r\nexport const {fetchBookError, fetchBookStart, fetchBookSuccess} = bookSlice.actions;","import axios from \"axios\";\r\nimport { IBook } from \"../../types/types\";\r\nimport { fetchBookError, fetchBookStart, fetchBookSuccess } from \"../reducers/bookSlice\";\r\nimport { AppDispatch } from \"../store\";\r\n\r\nexport const fetchBook = async (dispatch: AppDispatch, id: string) => {\r\n  try { \r\n    dispatch(fetchBookStart());\r\n    const response = await axios.get<IBook>(\"https://anapioficeandfire.com/api/books/\" + id);\r\n    \r\n    setTimeout(() => {\r\n      dispatch(fetchBookSuccess(response.data));\r\n    }, 200);\r\n  } catch(e) {\r\n    dispatch(fetchBookError(\"Не удалось загрузить страницу\"));\r\n  }\r\n}","import React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport BtnLink from \"../../components/BtnLink/BtnLink\";\r\nimport Page from \"../../containers/Page/Page\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\r\nimport { fetchBook } from \"../../store/actions/bookActions\";\r\nimport \"./Book.css\";\r\n\r\nconst Book: React.FC = () => {\r\n  const {id} = useParams<{id: string}>();\r\n  const dispatch = useAppDispatch();\r\n  const {book, error, isLoading} = useAppSelector(state => state.book);\r\n\r\n  useEffect(() => {\r\n    fetchBook(dispatch, id);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  if(isLoading) {\r\n    return (\r\n      <Page>\r\n        <div className=\"Book\">\r\n          <div className=\"cssload-container\">\r\n            <div className=\"cssload-speeding-wheel\"></div>\r\n          </div>\r\n        </div>\r\n        <BtnLink path=\"/books\" title=\"Назад\" />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  if(error) {\r\n    return (\r\n      <Page>\r\n        <div className=\"Book\">\r\n          <div className=\"Book__fail\">{error}</div>\r\n        </div>\r\n        <BtnLink path=\"/books\" title=\"Назад\" />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <div className=\"Book\">\r\n        <h1 className=\"Book__title\">{book?.name}</h1>\r\n        <h2 className=\"Book__subtitle\">\r\n          {book?.authors.join(\", \")}\r\n        </h2>\r\n\r\n        <div className=\"Book__row\">\r\n          <strong>Число страниц: </strong>\r\n          {book?.numberOfPages} \r\n        </div>\r\n\r\n        <div className=\"Book__row\">\r\n          <strong>Издатель: </strong>\r\n          {book?.publisher} \r\n        </div>\r\n\r\n        <div className=\"Book__row\">\r\n          <strong>Страна: </strong>\r\n          {book?.country} \r\n        </div>\r\n\r\n        <div className=\"Book__row\">\r\n          <strong>Дата выпуска: </strong>\r\n          {book?.released.slice(0, 10)} \r\n        </div>\r\n\r\n      </div>\r\n      <BtnLink path=\"/books\" title=\"Назад\" />\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default Book;","import React from \"react\";\r\nimport \"./Card.css\";\r\n\r\ninterface CardProps {\r\n  onClick(): void;\r\n  title: string;\r\n  description: string;\r\n  onAdd(): void;\r\n  onDelete(): void;\r\n  isActive: boolean;\r\n}\r\n\r\nconst Card: React.FC<CardProps> = ({title, description, onClick, onAdd, onDelete, isActive}) => {\r\n  const onFavbtnHandler = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    e.stopPropagation();\r\n    if(isActive) {\r\n      onDelete();\r\n      return;\r\n    }\r\n    onAdd();\r\n  }\r\n\r\n  return (\r\n    <div className=\"Card\" onClick={onClick}>\r\n      <h2 className=\"Card__title\">{title}</h2>\r\n      <p className=\"Card__description\">{description}</p>\r\n      <div className=\"Card__fav-btn\" onClick={onFavbtnHandler}>{isActive ? \"★\" : \"☆\"}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;","import { PayloadAction } from \"@reduxjs/toolkit\";\r\nimport React from \"react\";\r\nimport { useAppDispatch } from \"../../hooks/redux\";\r\nimport \"./DatePicker.css\";\r\n\r\ninterface DatePickerProps {\r\n  setDate(str: string): PayloadAction<string>;\r\n}\r\n\r\nconst DatePicker: React.FC<DatePickerProps> = ({setDate}) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const enterHandler = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if(e.key === \"Enter\") {\r\n      dispatch(setDate(e.currentTarget.value));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <input className=\"DatePicker\" type=\"date\" onKeyPress={enterHandler}/>\r\n  );\r\n}\r\n\r\nexport default DatePicker;","import React from \"react\";\r\nimport \"./PageSlider.css\";\r\n\r\ninterface PageSliderProps {\r\n  onRightPage(): void;\r\n  onLeftPage(): void;\r\n  currentPage: number;\r\n}\r\n\r\nconst PageSlider: React.FC<PageSliderProps> = ({onLeftPage, onRightPage, currentPage}) => {\r\n  return (\r\n    <div className=\"PageSlider\">\r\n      <div className=\"PageSlider__item\" onClick={onLeftPage}>◀</div>\r\n      <div className=\"PageSlider__page\">{currentPage}</div>\r\n      <div className=\"PageSlider__item\" onClick={onRightPage}>▶</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PageSlider;","import { PayloadAction } from \"@reduxjs/toolkit\";\r\nimport React from \"react\";\r\nimport { useAppDispatch } from \"../../hooks/redux\";\r\nimport \"./SearchInput.css\";\r\n\r\ninterface SearchInputProps {\r\n  setName(str: string): PayloadAction<string>;\r\n}\r\n\r\nconst SearchInput: React.FC<SearchInputProps> = ({setName}) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const enterHandler = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if(e.key === \"Enter\") {\r\n      dispatch(setName(e.currentTarget.value));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <input type=\"text\" className=\"SearchInput\" placeholder=\"Поиск\" onKeyPress={enterHandler} />\r\n  );\r\n}\r\n\r\nexport default SearchInput;","import { IBook, ICharacter, IHouse } from \"../types/types\";\r\n\r\nexport function getIndexFromUrl(url: string): string {\r\n  const splitedUrl = url.split(\"/\");\r\n  return splitedUrl[splitedUrl.length - 1];\r\n}\r\n\r\nexport function isInList(url: string, list: any[]): boolean {\r\n  return !!list.find((item: IBook | ICharacter | IHouse) => item.url === url);\r\n}","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { IBook } from \"../../types/types\";\r\n\r\ninterface booksState {\r\n  books: IBook[],\r\n  currentPage: number;\r\n  isLoading: boolean;\r\n  error: string;\r\n  name: string;\r\n  toReleaseDate: string;\r\n  fromReleaseDate: string;\r\n}\r\n\r\nconst initialState: booksState = {\r\n  books: [],\r\n  currentPage: 1,\r\n  isLoading: false,\r\n  error: \"\",\r\n  name: \"\",\r\n  toReleaseDate: \"\",\r\n  fromReleaseDate: \"\",\r\n};\r\n\r\nconst booksSlice = createSlice({\r\n  name: \"books\",\r\n  initialState,\r\n  reducers: {\r\n    fetchBooksStart(state: booksState) {\r\n      state.isLoading = true;\r\n      state.error = \"\";\r\n    },\r\n    fetchBooksSuccess(state: booksState, action: PayloadAction<IBook[]>) {\r\n      state.isLoading = false;\r\n      state.books = action.payload;\r\n    },\r\n    fetchBooksError(state: booksState, action: PayloadAction<string>) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n    onRightBooksPage(state) {\r\n      state.currentPage = state.currentPage + 1;\r\n    },\r\n    onLeftBooksPage(state) {\r\n      if(state.currentPage !== 1) {\r\n        state.currentPage = state.currentPage - 1;\r\n      }\r\n    },\r\n    setBooksName(state: booksState, action: PayloadAction<string>) {\r\n      state.name = action.payload;\r\n      state.currentPage = 1;\r\n    },\r\n    setBooksFromReleaseDate(state: booksState, action: PayloadAction<string>) {\r\n      state.fromReleaseDate = action.payload;\r\n    },\r\n    setBooksToReleaseDate(state: booksState, action: PayloadAction<string>) {\r\n      state.toReleaseDate = action.payload;\r\n    },\r\n    clearBooks(state: booksState) {\r\n      state.name = \"\";\r\n      state.fromReleaseDate = \"\";\r\n      state.toReleaseDate = \"\";\r\n    },\r\n  }\r\n});\r\n\r\nexport default booksSlice.reducer;\r\nexport const {fetchBooksStart, fetchBooksError, fetchBooksSuccess, onLeftBooksPage, onRightBooksPage, setBooksName, clearBooks, setBooksFromReleaseDate, setBooksToReleaseDate} = booksSlice.actions;","import { PayloadAction } from \"@reduxjs/toolkit\";\r\nimport React from \"react\";\r\nimport { useAppDispatch } from \"../../hooks/redux\";\r\nimport \"./GenderSelect.css\";\r\n\r\ninterface GenderSelectProps {\r\n  setGender(str: string): PayloadAction<string>;\r\n}\r\n\r\nexport enum Gender {\r\n  male = \"male\",\r\n  female = \"female\",\r\n  any = \"\",\r\n}\r\n\r\nconst GenderSelect: React.FC<GenderSelectProps> = ({setGender}) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const changeHandler = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    dispatch(setGender(e.currentTarget.value));\r\n  }\r\n\r\n  return (\r\n    <select className=\"GenderSelect\" onChange={changeHandler}>\r\n      <option value={Gender.any}>Все</option>\r\n      <option value={Gender.male}>Мужчины</option>\r\n      <option value={Gender.female}>Женщины</option>\r\n    </select>\r\n  );\r\n}\r\n\r\nexport default GenderSelect;","import axios from \"axios\";\r\nimport { IBook } from \"../../types/types\";\r\nimport { fetchBooksStart, fetchBooksError, fetchBooksSuccess, onLeftBooksPage } from \"../reducers/booksSlice\";\r\nimport { AppDispatch } from \"../store\";\r\n\r\nexport const fetchBooks = async (dispatch: AppDispatch, page: number, name: string, fromReleaseDate: string, toReleaseDate: string) => {\r\n  try {\r\n    dispatch(fetchBooksStart());\r\n    const response = await axios.get<IBook[]>(\"https://anapioficeandfire.com/api/books\", {\r\n      params: { page, name, fromReleaseDate, toReleaseDate },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      if(response.data.length === 0 && page > 1) {\r\n        dispatch(onLeftBooksPage());\r\n        return;\r\n      }\r\n      dispatch(fetchBooksSuccess(response.data));\r\n    }, 200);\r\n  } catch(e) {\r\n    setTimeout(() => {\r\n      dispatch(fetchBooksError(\"При загрузке книг произошла ошибка\"));\r\n    }, 200);\r\n  }\r\n}","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { IBook, ICharacter, IHouse } from \"../../types/types\";\r\n\r\ninterface favouritesState {\r\n  books: IBook[];\r\n  characters: ICharacter[];\r\n  houses: IHouse[];\r\n  amountOfItems: number;\r\n}\r\n\r\nconst initialState: favouritesState = {\r\n  books: [],\r\n  characters: [],\r\n  houses: [],\r\n  amountOfItems: 0,\r\n};\r\n\r\nconst favouritesSlice = createSlice({\r\n  name: \"books\",\r\n  initialState,\r\n  reducers: {\r\n    addBook(state: favouritesState, action: PayloadAction<IBook>) {\r\n      state.books.push(action.payload);\r\n      state.amountOfItems = state.amountOfItems + 1;\r\n    },\r\n    deleteBook(state: favouritesState, action: PayloadAction<string>) {\r\n      state.books = state.books.filter(book => book.url !== action.payload);\r\n      state.amountOfItems = state.amountOfItems - 1;\r\n    },\r\n    addCharacter(state: favouritesState, action: PayloadAction<ICharacter>) {\r\n      state.characters.push(action.payload);\r\n      state.amountOfItems = state.amountOfItems + 1;\r\n    },\r\n    deleteCharacter(state: favouritesState, action: PayloadAction<string>) {\r\n      state.characters = state.characters.filter(character => character.url !== action.payload);\r\n      state.amountOfItems = state.amountOfItems - 1;\r\n    },\r\n    addHouse(state: favouritesState, action: PayloadAction<IHouse>) {\r\n      state.houses.push(action.payload);\r\n      state.amountOfItems = state.amountOfItems + 1;\r\n    },\r\n    deleteHouse(state: favouritesState, action: PayloadAction<string>) {\r\n      state.houses = state.houses.filter(house => house.url !== action.payload);\r\n      state.amountOfItems = state.amountOfItems - 1;\r\n    }\r\n  }\r\n});\r\n\r\nexport default favouritesSlice.reducer;\r\nexport const {addBook, addCharacter, addHouse, deleteBook, deleteCharacter, deleteHouse} = favouritesSlice.actions;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { IBook, ICharacter, IHouse } from \"../../types/types\";\r\n\r\ninterface recentsState {\r\n  recents: any[],\r\n}\r\n\r\nconst initialState: recentsState = {\r\n  recents: [],\r\n};\r\n\r\nconst recentsSlice = createSlice({\r\n  name: \"recents\",\r\n  initialState,\r\n  reducers: {\r\n    addRecentsItem(state: recentsState, action: PayloadAction<IBook | ICharacter | IHouse>) {\r\n      if(state.recents.find(item => item.url === action.payload.url)) {\r\n        state.recents = state.recents.filter(item => item.url !== action.payload.url);\r\n      }\r\n      if(state.recents.length === 10) {\r\n        state.recents.pop();\r\n      }\r\n      state.recents.unshift(action.payload);\r\n    },\r\n  },\r\n});\r\n\r\nexport default recentsSlice.reducer;\r\nexport const {addRecentsItem} = recentsSlice.actions;","import React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport BtnLink from \"../../components/BtnLink/BtnLink\";\r\nimport Card from \"../../components/Card/Card\";\r\nimport DatePicker from \"../../components/DatePicker/DatePicker\";\r\nimport PageSlider from \"../../components/PageSlider/PageSlider\";\r\nimport SearchInput from \"../../components/SearchInput/SearchInput\";\r\nimport Page from \"../../containers/Page/Page\";\r\nimport { getIndexFromUrl, isInList } from \"../../helpers/helpers\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\r\nimport { fetchBooks } from \"../../store/actions/booksActions\";\r\nimport { clearBooks, onLeftBooksPage, onRightBooksPage, setBooksFromReleaseDate, setBooksName, setBooksToReleaseDate } from \"../../store/reducers/booksSlice\";\r\nimport { addBook, deleteBook } from \"../../store/reducers/favouritesSlice\";\r\nimport { addRecentsItem } from \"../../store/reducers/recentsSlice\";\r\nimport \"./Books.css\";\r\n\r\nconst Books: React.FC = () => {\r\n  const history = useHistory();\r\n  const {books, currentPage, error, isLoading, name, toReleaseDate, fromReleaseDate} = useAppSelector(state => state.books);\r\n  const favourites = useAppSelector(state => state.favourites);\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(clearBooks());\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchBooks(dispatch, currentPage, name, fromReleaseDate, toReleaseDate);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentPage, name, fromReleaseDate, toReleaseDate]);\r\n\r\n  if(isLoading) {\r\n    return (\r\n      <Page>\r\n        <div className=\"Books\">\r\n          <div className=\"Books__inputs\">\r\n            <SearchInput setName={setBooksName} />\r\n            <span>\r\n              <span className=\"Books__text\">От:</span>\r\n              <DatePicker setDate={setBooksFromReleaseDate} />\r\n              <span className=\"Books__text\">До:</span>\r\n              <DatePicker setDate={setBooksToReleaseDate} />\r\n            </span>\r\n          </div>\r\n          <div className=\"cssload-container\">\r\n            <div className=\"cssload-speeding-wheel\"></div>\r\n          </div>\r\n        </div>\r\n        <BtnLink path=\"/\" title=\"На главную\" />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  if(error) {\r\n    return (\r\n      <Page>\r\n        <div className=\"Books\">\r\n          <div className=\"Books__inputs\">\r\n            <SearchInput setName={setBooksName} />\r\n            <span>\r\n              <span className=\"Books__text\">От:</span>\r\n              <DatePicker setDate={setBooksFromReleaseDate} />\r\n              <span className=\"Books__text\">До:</span>\r\n              <DatePicker setDate={setBooksToReleaseDate} />\r\n            </span>\r\n          </div>\r\n          <div className=\"Books__fail\">{error}</div>\r\n        </div>\r\n        <BtnLink path=\"/\" title=\"На главную\" />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <div className=\"Books\">\r\n        <div className=\"Books__inputs\">\r\n          <SearchInput setName={setBooksName} />\r\n          <span>\r\n            <span className=\"Books__text\">От:</span>\r\n            <DatePicker setDate={setBooksFromReleaseDate} />\r\n            <span className=\"Books__text\">До:</span>\r\n            <DatePicker setDate={setBooksToReleaseDate} />\r\n          </span>\r\n        </div>\r\n        <div className=\"Books__container\">\r\n          {\r\n            !books.length && <div className=\"Books__fail\">По вашему запросу ничего не найдено</div>\r\n          }\r\n          {\r\n            books.map(book => \r\n              <Card \r\n                key={book.url}\r\n                title={book.name}\r\n                description={`Авторы: ${book.authors.join(\", \")}. Страна: ${book.country}. Кол-во страниц: ${book.numberOfPages}.`}\r\n                onClick={() => {\r\n                  history.push(\"/books/\" + getIndexFromUrl(book.url));\r\n                  dispatch(addRecentsItem(book));\r\n                }}\r\n                onAdd={() => dispatch(addBook(book))}\r\n                onDelete={() => dispatch(deleteBook(book.url))}\r\n                isActive={isInList(book.url, favourites.books)}\r\n              />  \r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n      <BtnLink path=\"/\" title=\"На главную\" />\r\n      {\r\n        !!books.length && <PageSlider onLeftPage={() => dispatch(onLeftBooksPage())} onRightPage={() => dispatch(onRightBooksPage())} currentPage={currentPage} />\r\n      }\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default Books;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { ICharacter } from \"../../types/types\";\r\n\r\ninterface CharacterState {\r\n  isLoading: boolean,\r\n  error: string,\r\n  character: ICharacter | null,\r\n}\r\n\r\nconst initialState: CharacterState = {\r\n  isLoading: false,\r\n  error: \"\",\r\n  character: null,\r\n};\r\n\r\nconst characterSlice = createSlice({\r\n  name: \"character\",\r\n  initialState,\r\n  reducers: {\r\n    fetchCharacterStart(state: CharacterState) {\r\n      state.isLoading = true;\r\n      state.error = \"\";\r\n    },\r\n    fetchCharacterSuccess(state: CharacterState, action: PayloadAction<ICharacter>) {\r\n      state.isLoading = false;\r\n      state.character = action.payload;\r\n    },\r\n    fetchCharacterError(state: CharacterState, action: PayloadAction<string>) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n  }\r\n});\r\n\r\nexport default characterSlice.reducer;\r\nexport const {fetchCharacterError, fetchCharacterStart, fetchCharacterSuccess} = characterSlice.actions;","import axios from \"axios\";\r\nimport { ICharacter } from \"../../types/types\";\r\nimport { fetchCharacterError, fetchCharacterStart, fetchCharacterSuccess } from \"../reducers/characterSlice\";\r\nimport { AppDispatch } from \"../store\";\r\n\r\nexport const fetchCharacter = async (dispatch: AppDispatch, id: string) => {\r\n  try {\r\n    dispatch(fetchCharacterStart());\r\n    const response = await axios.get<ICharacter>(\"https://anapioficeandfire.com/api/characters/\" + id);\r\n    \r\n    setTimeout(() => {\r\n      dispatch(fetchCharacterSuccess(response.data));\r\n    }, 200);\r\n  } catch(e) {\r\n    dispatch(fetchCharacterError(\"Не удалось загрузить страницу\"));\r\n  }\r\n}","import React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport BtnLink from \"../../components/BtnLink/BtnLink\";\r\nimport Page from \"../../containers/Page/Page\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\r\nimport { fetchCharacter } from \"../../store/actions/characterActions\";\r\nimport \"./Character.css\";\r\n\r\nconst Character: React.FC = () => {\r\n  const {id} = useParams<{id: string}>();\r\n  const dispatch = useAppDispatch();\r\n  const {character, error, isLoading} = useAppSelector(state => state.character);\r\n\r\n  useEffect(() => {\r\n    fetchCharacter(dispatch, id);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  if(isLoading) {\r\n    return (\r\n      <Page>\r\n        <div className=\"Character\">\r\n          <div className=\"cssload-container\">\r\n            <div className=\"cssload-speeding-wheel\"></div>\r\n          </div>\r\n        </div>\r\n        <BtnLink path=\"/characters\" title=\"Назад\" />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  if(error) {\r\n    return (\r\n      <Page>\r\n        <div className=\"Character\">\r\n          <div className=\"Character__fail\">{error}</div>\r\n        </div>\r\n        <BtnLink path=\"/characters\" title=\"Назад\" />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <div className=\"Character\">\r\n        <h1 className=\"Character__title\">{character?.name || \"Имя неизвестно\"}</h1>\r\n        <h2 className=\"Character__subtitle\">{character?.died ? \"Персонаж мертв\" : \"Персонаж жив\"}</h2>\r\n\r\n        <div className=\"Character__row\">\r\n          <strong>Пол: </strong>\r\n          {character?.gender} \r\n        </div>\r\n\r\n        <div className=\"Character__row\">\r\n          <strong>Культура: </strong>\r\n          {character?.culture} \r\n        </div>\r\n\r\n        <div className=\"Character__row\">\r\n          <strong>Родился: </strong>\r\n          {character?.born} \r\n        </div>\r\n\r\n        <div className=\"Character__row\">\r\n          <strong>Умер: </strong>\r\n          {character?.died} \r\n        </div>\r\n\r\n        <div className=\"Character__row\">\r\n          <strong>Титулы: </strong>\r\n          {\r\n            character?.titles.join(\", \")\r\n          } \r\n        </div>\r\n\r\n        <div className=\"Character__row\">\r\n          <strong>Прозвища: </strong>\r\n          {\r\n            character?.aliases.join(\", \")\r\n          } \r\n        </div>\r\n\r\n        <div className=\"Character__row\">\r\n          <strong>Актер(ы): </strong>\r\n          {\r\n            character?.playedBy.join(\", \")\r\n          } \r\n        </div>\r\n\r\n      </div>\r\n      <BtnLink path=\"/characters\" title=\"Назад\" />\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default Character;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { Gender } from \"../../components/GenderSelect/GenderSelect\";\r\nimport { ICharacter } from \"../../types/types\";\r\n\r\ninterface charactersState {\r\n  characters: ICharacter[],\r\n  currentPage: number;\r\n  isLoading: boolean;\r\n  error: string;\r\n  name: string;\r\n  gender: Gender;\r\n}\r\n\r\nconst initialState: charactersState = {\r\n  characters: [],\r\n  currentPage: 1,\r\n  isLoading: false,\r\n  error: \"\",\r\n  name: \"\",\r\n  gender: Gender.any,\r\n};\r\n\r\nconst charactersSlice = createSlice({\r\n  name: \"books\",\r\n  initialState,\r\n  reducers: {\r\n    fetchCharactersStart(state: charactersState) {\r\n      state.isLoading = true;\r\n      state.error = \"\";\r\n    },\r\n    fetchCharactersSuccess(state: charactersState, action: PayloadAction<ICharacter[]>) {\r\n      state.isLoading = false;\r\n      state.characters = action.payload;\r\n    },\r\n    fetchCharactersError(state: charactersState, action: PayloadAction<string>) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n    onRightCharactersPage(state) {\r\n      state.currentPage = state.currentPage + 1;\r\n    },\r\n    onLeftCharactersPage(state) {\r\n      if(state.currentPage !== 1) {\r\n        state.currentPage = state.currentPage - 1;\r\n      }\r\n    },\r\n    setCharactersName(state: charactersState, action: PayloadAction<string>) {\r\n      state.name = action.payload;\r\n      state.currentPage = 1;\r\n    },\r\n    setCharactersGender(state: charactersState, action: PayloadAction<Gender>) {\r\n      state.gender = action.payload;\r\n    },\r\n    clearCharacters(state: charactersState) {\r\n      state.name = \"\";\r\n      state.gender = Gender.any;\r\n    }\r\n  }\r\n});\r\n\r\nexport default charactersSlice.reducer;\r\nexport const {fetchCharactersError, fetchCharactersStart, fetchCharactersSuccess, onRightCharactersPage, onLeftCharactersPage, setCharactersName, clearCharacters, setCharactersGender} = charactersSlice.actions;","import axios from \"axios\";\r\nimport { ICharacter } from \"../../types/types\";\r\nimport { fetchCharactersStart, fetchCharactersSuccess, fetchCharactersError, onLeftCharactersPage } from \"../reducers/charactersSlice\";\r\nimport { AppDispatch } from \"../store\";\r\n\r\nexport const fetchCharacters = async (dispatch: AppDispatch, page: number, name: string, gender: string) => {\r\n  try {\r\n    dispatch(fetchCharactersStart());\r\n    const response = await axios.get<ICharacter[]>(\"https://anapioficeandfire.com/api/characters\", {\r\n      params: { page, name, gender },\r\n    });\r\n\r\n    setTimeout(() => {\r\n      if(response.data.length === 0 && page > 1) {\r\n        dispatch(onLeftCharactersPage());\r\n        return;\r\n      } \r\n      dispatch(fetchCharactersSuccess(response.data));\r\n    }, 200);\r\n  } catch(e) {\r\n    setTimeout(() => {\r\n      dispatch(fetchCharactersError(\"При загрузке персонажей произошла ошибка\"));\r\n    }, 200);\r\n  }\r\n}","import React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport BtnLink from \"../../components/BtnLink/BtnLink\";\r\nimport Card from \"../../components/Card/Card\";\r\nimport GenderSelect from \"../../components/GenderSelect/GenderSelect\";\r\nimport PageSlider from \"../../components/PageSlider/PageSlider\";\r\nimport SearchInput from \"../../components/SearchInput/SearchInput\";\r\nimport Page from \"../../containers/Page/Page\";\r\nimport { getIndexFromUrl, isInList } from \"../../helpers/helpers\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\r\nimport { fetchCharacters } from \"../../store/actions/charactersActions\";\r\nimport { clearCharacters, onLeftCharactersPage, onRightCharactersPage, setCharactersGender, setCharactersName } from \"../../store/reducers/charactersSlice\";\r\nimport { addCharacter, deleteCharacter } from \"../../store/reducers/favouritesSlice\";\r\nimport { addRecentsItem } from \"../../store/reducers/recentsSlice\";\r\nimport \"./Characters.css\";\r\n\r\nconst Characters: React.FC = () => {\r\n  const history = useHistory();\r\n  const {characters, currentPage, isLoading, error, name, gender} = useAppSelector(state => state.characters);\r\n  const favourites = useAppSelector(state => state.favourites);\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(clearCharacters());\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchCharacters(dispatch, currentPage, name, gender);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentPage, name, gender]);\r\n\r\n  if(isLoading) {\r\n    return (\r\n      <Page>\r\n        <div className=\"Characters\">\r\n          <div className=\"Characters__inputs\">\r\n            <SearchInput setName={setCharactersName} />\r\n            <GenderSelect setGender={setCharactersGender} />\r\n          </div>\r\n          <div className=\"cssload-container\">\r\n            <div className=\"cssload-speeding-wheel\"></div>\r\n          </div>\r\n        </div>\r\n        <BtnLink path=\"/\" title=\"На главную\" />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  if(error) {\r\n    return (\r\n      <Page>\r\n        <div className=\"Characters\">\r\n          <div className=\"Characters__inputs\">\r\n            <SearchInput setName={setCharactersName} />\r\n            <GenderSelect setGender={setCharactersGender} />\r\n          </div>\r\n          <div className=\"Characters__fail\">{error}</div>\r\n        </div>\r\n        <BtnLink path=\"/\" title=\"На главную\" />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <div className=\"Characters\">\r\n        <div className=\"Characters__inputs\">\r\n          <SearchInput setName={setCharactersName} />\r\n          <GenderSelect setGender={setCharactersGender} />\r\n        </div>\r\n        <div className=\"Characters__container\">\r\n          {\r\n            !characters.length && <div className=\"Characters__fail\">По вашему запросу ничего не найдено</div>\r\n          }\r\n          {\r\n            characters.map(character => \r\n              <Card \r\n                key={character.url}\r\n                title={character.name || \"Имя неизвестно\"}\r\n                description={`Культура: ${character.culture || \"неизвестно\"}. Пол: ${character.gender}. ${character.died && \"Персонаж мертв\"}`}\r\n                onClick={() => {\r\n                  history.push(\"/characters/\" + getIndexFromUrl(character.url));\r\n                  dispatch(addRecentsItem(character));\r\n                }}\r\n                onAdd={() => dispatch(addCharacter(character))}\r\n                onDelete={() => dispatch(deleteCharacter(character.url))}\r\n                isActive={isInList(character.url, favourites.characters)}\r\n              />  \r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n      <BtnLink path=\"/\" title=\"На главную\" />\r\n      {\r\n        !!characters.length && <PageSlider onLeftPage={() => dispatch(onLeftCharactersPage())} onRightPage={() => dispatch(onRightCharactersPage())} currentPage={currentPage} />\r\n      }\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default Characters;","import React from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport BtnLink from \"../../components/BtnLink/BtnLink\";\r\nimport Card from \"../../components/Card/Card\";\r\nimport Page from \"../../containers/Page/Page\";\r\nimport { getIndexFromUrl, isInList } from \"../../helpers/helpers\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\r\nimport { addBook, addCharacter, addHouse, deleteBook, deleteCharacter, deleteHouse } from \"../../store/reducers/favouritesSlice\";\r\nimport { addRecentsItem } from \"../../store/reducers/recentsSlice\";\r\nimport \"./Favourites.css\";\r\n\r\nconst Favourites: React.FC = () => {\r\n  const history = useHistory();\r\n  const {books, characters, houses} = useAppSelector(state => state.favourites);\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <Page>\r\n      <div className=\"Favourites\">\r\n        <h2 className=\"Favourites__title\">Книги</h2>\r\n        <div className=\"Favourites__container\">\r\n          {\r\n            !books.length && <div className=\"Favourites__text\">Здесь пока пусто</div> \r\n          }\r\n          {\r\n            books.map(book => \r\n              <Card \r\n                key={book.url}\r\n                title={book.name}\r\n                description={`Авторы: ${book.authors.join(\", \")}. Страна: ${book.country}. Кол-во страниц: ${book.numberOfPages}.`}\r\n                onClick={() => {\r\n                  history.push(\"/books/\" + getIndexFromUrl(book.url));\r\n                  dispatch(addRecentsItem(book));\r\n                }}\r\n                onAdd={() => dispatch(addBook(book))}\r\n                onDelete={() => dispatch(deleteBook(book.url))}\r\n                isActive={isInList(book.url, books)}\r\n              />  \r\n            )\r\n          }\r\n        </div>\r\n\r\n        <h2 className=\"Favourites__title\">Персонажи</h2>\r\n        <div className=\"Favourites__container\">\r\n          {\r\n            !characters.length && <div className=\"Favourites__text\">Здесь пока пусто</div> \r\n          }\r\n          {\r\n            characters.map(character => \r\n              <Card \r\n                key={character.url}\r\n                title={character.name || \"Имя неизвестно\"}\r\n                description={`Культура: ${character.culture || \"неизвестно\"}. Пол: ${character.gender}. ${character.died && \"Персонаж мертв\"}`}\r\n                onClick={() => {\r\n                  history.push(\"/characters/\" + getIndexFromUrl(character.url));\r\n                  dispatch(addRecentsItem(character));\r\n                }}\r\n                onAdd={() => dispatch(addCharacter(character))}\r\n                onDelete={() => dispatch(deleteCharacter(character.url))}\r\n                isActive={isInList(character.url, characters)}\r\n              />  \r\n            )\r\n          }\r\n        </div>\r\n\r\n        <h2 className=\"Favourites__title\">Дома / Семьи</h2>\r\n        <div className=\"Favourites__container\">\r\n          {\r\n            !houses.length && <div className=\"Favourites__text\">Здесь пока пусто</div> \r\n          }\r\n          {\r\n            houses.map(house => \r\n              <Card \r\n                key={house.url}\r\n                title={house.name}\r\n                description={`Регион: ${house.region}. Герб: ${house.coatOfArms || \"неизвестен\"}.`}\r\n                onClick={() => {\r\n                  history.push(\"/houses/\" + getIndexFromUrl(house.url));\r\n                  dispatch(addRecentsItem(house));\r\n                }}\r\n                onAdd={() => dispatch(addHouse(house))}\r\n                onDelete={() => dispatch(deleteHouse(house.url))}\r\n                isActive={isInList(house.url, houses)}\r\n              />  \r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n      <BtnLink path=\"/\" title=\"На главную\" />\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default Favourites;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { IHouse } from \"../../types/types\";\r\n\r\ninterface HouseState {\r\n  isLoading: boolean;\r\n  error: string;\r\n  house: IHouse | null;\r\n}\r\n\r\nconst initialState: HouseState = {\r\n  isLoading: false,\r\n  error: \"\",\r\n  house: null,\r\n};\r\n\r\nconst houseSlice = createSlice({\r\n  name: \"house\",\r\n  initialState,\r\n  reducers: {\r\n    fetchHouseStart(state: HouseState) {\r\n      state.isLoading = true;\r\n      state.error = \"\";\r\n    },\r\n    fetchHouseSuccess(state: HouseState, action: PayloadAction<IHouse>) {\r\n      state.isLoading = false;\r\n      state.house = action.payload;\r\n    },\r\n    fetchHouseError(state: HouseState, action: PayloadAction<string>) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default houseSlice.reducer;\r\nexport const {fetchHouseError, fetchHouseStart, fetchHouseSuccess} = houseSlice.actions;","import axios from \"axios\";\r\nimport { IHouse } from \"../../types/types\";\r\nimport { fetchHouseError, fetchHouseStart, fetchHouseSuccess } from \"../reducers/houseSlice\";\r\nimport { AppDispatch } from \"../store\";\r\n\r\nexport const fetchHouse = async (dispatch: AppDispatch, id: string) => {\r\n  try {\r\n    dispatch(fetchHouseStart());\r\n    const response = await axios.get<IHouse>(\"https://anapioficeandfire.com/api/houses/\" + id);\r\n\r\n    setTimeout(() => {\r\n      dispatch(fetchHouseSuccess(response.data));\r\n    }, 200);\r\n  } catch(e) {\r\n    dispatch(fetchHouseError(\"Не удалось загрузить страницу\"));\r\n  }\r\n}","import React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport BtnLink from \"../../components/BtnLink/BtnLink\";\r\nimport Page from \"../../containers/Page/Page\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\r\nimport { fetchHouse } from \"../../store/actions/houseAction\";\r\nimport \"./House.css\";\r\n\r\nconst House: React.FC = () => {\r\n  const {id} = useParams<{id: string}>();\r\n  const dispatch = useAppDispatch();\r\n  const {house, error, isLoading} = useAppSelector(state => state.house);\r\n\r\n  useEffect(() => {\r\n    fetchHouse(dispatch, id);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  if(isLoading) {\r\n    return (\r\n      <Page>\r\n        <div className=\"House\">\r\n          <div className=\"cssload-container\">\r\n            <div className=\"cssload-speeding-wheel\"></div>\r\n          </div>\r\n        </div>\r\n        <BtnLink path=\"/houses\" title=\"Назад\" />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  if(error) {\r\n    return (\r\n      <Page>\r\n        <div className=\"House\">\r\n          <div className=\"House__fail\">{error}</div>\r\n        </div>\r\n        <BtnLink path=\"/houses\" title=\"Назад\" />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <div className=\"House\">\r\n        <h1 className=\"House__title\">{house?.name}</h1>\r\n        <h2 className=\"House__subtitle\">{house?.region}</h2>\r\n\r\n        <div className=\"House__row\">\r\n          <strong>Герб: </strong>\r\n          {house?.coatOfArms} \r\n        </div>\r\n\r\n        <div className=\"House__row\">\r\n          <strong>Девиз: </strong>\r\n          {house?.words} \r\n        </div>\r\n\r\n        <div className=\"House__row\">\r\n          <strong>Основан: </strong>\r\n          {house?.founded} \r\n        </div>\r\n\r\n        <div className=\"House__row\">\r\n          <strong>Титулы: </strong>\r\n          {house?.titles.join(\", \")} \r\n        </div>\r\n\r\n        <div className=\"House__row\">\r\n          <strong>Место: </strong>\r\n          {house?.seats.join(\", \")} \r\n        </div>\r\n\r\n      </div>\r\n      <BtnLink path=\"/houses\" title=\"Назад\" />\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default House;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { IHouse } from \"../../types/types\";\r\n\r\ninterface housesState {\r\n  houses: IHouse[];\r\n  currentPage: number;\r\n  error: string;\r\n  isLoading: boolean;\r\n  name: string;\r\n}\r\n\r\nconst initialState: housesState = {\r\n  houses: [],\r\n  currentPage: 1,\r\n  error: \"\",\r\n  isLoading: false,\r\n  name: \"\",\r\n};\r\n\r\nconst housesSlice = createSlice({\r\n  name: \"books\",\r\n  initialState,\r\n  reducers: {\r\n    fetchHousesStart(state: housesState) {\r\n      state.isLoading = true;\r\n      state.error = \"\";\r\n    },\r\n    fetchHousesSuccess(state: housesState, action: PayloadAction<IHouse[]>) {\r\n      state.isLoading = false;\r\n      state.houses = action.payload;\r\n    },\r\n    fetchHousesError(state: housesState, action: PayloadAction<string>) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n    onRightHousesPage(state: housesState) {\r\n      state.currentPage = state.currentPage + 1;\r\n    },\r\n    onLeftHousesPage(state: housesState) {\r\n      if(state.currentPage !== 1) {\r\n        state.currentPage = state.currentPage - 1;\r\n      }\r\n    },\r\n    setHousesName(state: housesState, action: PayloadAction<string>) {\r\n      state.name = action.payload;\r\n      state.currentPage = 1;\r\n    },\r\n    clearHousesName(state: housesState) {\r\n      state.name = \"\";\r\n    }\r\n  }\r\n});\r\n\r\nexport default housesSlice.reducer;\r\nexport const {fetchHousesError, fetchHousesStart, fetchHousesSuccess, onLeftHousesPage, onRightHousesPage, setHousesName, clearHousesName} = housesSlice.actions;","import axios from \"axios\";\r\nimport { IHouse } from \"../../types/types\";\r\nimport { fetchHousesStart, fetchHousesSuccess, fetchHousesError, onLeftHousesPage } from \"../reducers/housesSlice\";\r\nimport { AppDispatch } from \"../store\";\r\n\r\nexport const fetchHouses = async (dispatch: AppDispatch, page: number, name: string) => {\r\n  try {\r\n    dispatch(fetchHousesStart());\r\n    const response = await axios.get<IHouse[]>(\"https://anapioficeandfire.com/api/houses\", {\r\n      params: { page, name },\r\n    });\r\n    \r\n    setTimeout(() => {\r\n      if(response.data.length === 0 && page > 1) {\r\n        dispatch(onLeftHousesPage());\r\n        return;\r\n      } \r\n      dispatch(fetchHousesSuccess(response.data));\r\n    }, 200);\r\n  } catch(e) {\r\n    setTimeout(() => {\r\n      dispatch(fetchHousesError(\"При загрузке домов произошла ошибка\"));\r\n    }, 200);\r\n  }\r\n}","import React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport BtnLink from \"../../components/BtnLink/BtnLink\";\r\nimport Card from \"../../components/Card/Card\";\r\nimport PageSlider from \"../../components/PageSlider/PageSlider\";\r\nimport SearchInput from \"../../components/SearchInput/SearchInput\";\r\nimport Page from \"../../containers/Page/Page\";\r\nimport { getIndexFromUrl, isInList } from \"../../helpers/helpers\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\r\nimport { fetchHouses } from \"../../store/actions/housesActions\";\r\nimport { addHouse, deleteHouse } from \"../../store/reducers/favouritesSlice\";\r\nimport { clearHousesName, onLeftHousesPage, onRightHousesPage, setHousesName } from \"../../store/reducers/housesSlice\";\r\nimport { addRecentsItem } from \"../../store/reducers/recentsSlice\";\r\nimport \"./Houses.css\";\r\n\r\nconst Houses: React.FC = () => {\r\n  const history = useHistory();\r\n  const {houses, currentPage, isLoading, error, name} = useAppSelector(state => state.houses);\r\n  const favourites = useAppSelector(state => state.favourites);\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(clearHousesName());\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchHouses(dispatch, currentPage, name);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentPage, name]);\r\n\r\n  if(isLoading) {\r\n    return (\r\n      <Page>\r\n        <div className=\"Houses\">\r\n          <SearchInput setName={setHousesName} />\r\n          <div className=\"cssload-container\">\r\n            <div className=\"cssload-speeding-wheel\"></div>\r\n          </div>\r\n        </div>\r\n        <BtnLink path=\"/\" title=\"На главную\" />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  if(error) {\r\n    return (\r\n      <Page>\r\n        <div className=\"Houses\">\r\n          <SearchInput setName={setHousesName} />\r\n          <div className=\"Houses__fail\">{error}</div>\r\n        </div>\r\n        <BtnLink path=\"/\" title=\"На главную\" />\r\n      </Page>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <div className=\"Houses\">\r\n        <SearchInput setName={setHousesName} />\r\n        <div className=\"Houses__container\">\r\n          {\r\n            !houses.length && <div className=\"Houses__fail\">По вашему запросу ничего не найдено</div>\r\n          }\r\n          {\r\n            houses.map(house => \r\n              <Card \r\n                key={house.url}\r\n                title={house.name}\r\n                description={`Регион: ${house.region}. Герб: ${house.coatOfArms || \"неизвестен\"}.`}\r\n                onClick={() => {\r\n                  history.push(\"/houses/\" + getIndexFromUrl(house.url));\r\n                  dispatch(addRecentsItem(house));\r\n                }}\r\n                onAdd={() => dispatch(addHouse(house))}\r\n                onDelete={() => dispatch(deleteHouse(house.url))}\r\n                isActive={isInList(house.url, favourites.houses)}\r\n              />  \r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n      <BtnLink path=\"/\" title=\"На главную\" />\r\n      {\r\n        !!houses.length && <PageSlider onLeftPage={() => dispatch(onLeftHousesPage())} onRightPage={() => dispatch(onRightHousesPage())} currentPage={currentPage} />\r\n      }\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default Houses;","import React from \"react\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport Card from \"../../components/Card/Card\";\r\nimport Page from \"../../containers/Page/Page\";\r\nimport { getIndexFromUrl, isInList } from \"../../helpers/helpers\";\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/redux\";\r\nimport { addBook, addCharacter, addHouse, deleteBook, deleteCharacter, deleteHouse } from \"../../store/reducers/favouritesSlice\";\r\nimport { addRecentsItem } from \"../../store/reducers/recentsSlice\";\r\nimport { IBook, ICharacter, IHouse } from \"../../types/types\";\r\nimport \"./Main.css\";\r\n\r\nconst Main: React.FC = () => {\r\n  const {recents} = useAppSelector(state => state.recents);\r\n  const favourites = useAppSelector(state => state.favourites);\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Page>\r\n      <div className=\"Main\">\r\n        <h2 className=\"Main__subtitle\">Фан-проект по вселенной</h2>\r\n        <h1 className=\"Main__title\">Игры Престолов</h1>\r\n        <div className=\"Links\">\r\n          <NavLink to=\"/books\" className=\"Links__item\">Книги</NavLink>\r\n          <NavLink to=\"/characters\" className=\"Links__item\">Персонажи</NavLink>\r\n          <NavLink to=\"/houses\" className=\"Links__item\">Дома / Семьи</NavLink>\r\n        </div>\r\n\r\n        <h2 className=\"Main__recents-title\">Недавно просмотренное ▼</h2>\r\n        <div className=\"Main__container\">\r\n          {\r\n            !recents.length && <div className=\"Main__text\">Здесь пока пусто</div>\r\n          }\r\n          {\r\n            // eslint-disable-next-line array-callback-return\r\n            recents.map((item: IBook | ICharacter | IHouse) => {\r\n              if(\"authors\" in item) {\r\n                return <Card \r\n                  key={item.url}\r\n                  title={item.name}\r\n                  description={`Авторы: ${item.authors.join(\", \")}. Страна: ${item.country}. Кол-во страниц: ${item.numberOfPages}.`}\r\n                  onClick={() => {\r\n                    history.push(\"/books/\" + getIndexFromUrl(item.url));\r\n                    dispatch(addRecentsItem(item));\r\n                  }}\r\n                  onAdd={() => dispatch(addBook(item))}\r\n                  onDelete={() => dispatch(deleteBook(item.url))}\r\n                  isActive={isInList(item.url, favourites.books)}\r\n                /> \r\n              }\r\n              if(\"gender\" in item) {\r\n                return <Card \r\n                  key={item.url}\r\n                  title={item.name || \"Имя неизвестно\"}\r\n                  description={`Культура: ${item.culture || \"неизвестно\"}. Пол: ${item.gender}. ${item.died && \"Персонаж мертв\"}`}\r\n                  onClick={() => {\r\n                    history.push(\"/characters/\" + getIndexFromUrl(item.url));\r\n                    dispatch(addRecentsItem(item));\r\n                  }}\r\n                  onAdd={() => dispatch(addCharacter(item))}\r\n                  onDelete={() => dispatch(deleteCharacter(item.url))}\r\n                  isActive={isInList(item.url, favourites.characters)}\r\n                />\r\n              }\r\n              if(\"coatOfArms\" in item) {\r\n                return <Card \r\n                  key={item.url}\r\n                  title={item.name}\r\n                  description={`Регион: ${item.region}. Герб: ${item.coatOfArms || \"неизвестен\"}.`}\r\n                  onClick={() => {\r\n                    history.push(\"/houses/\" + getIndexFromUrl(item.url));\r\n                    dispatch(addRecentsItem(item));\r\n                  }}\r\n                  onAdd={() => dispatch(addHouse(item))}\r\n                  onDelete={() => dispatch(deleteHouse(item.url))}\r\n                  isActive={isInList(item.url, favourites.houses)}\r\n                />  \r\n              }\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Book from \"./pages/Book/Book\";\nimport Books from \"./pages/Books/Books\";\nimport Character from \"./pages/Character/Character\";\nimport Characters from \"./pages/Characters/Characters\";\nimport Favourites from \"./pages/Favourites/Favourites\";\nimport House from \"./pages/House/House\";\nimport Houses from \"./pages/Houses/Houses\";\nimport Main from \"./pages/Main/Main\";\n\nconst App: React.FC = () => {\n  return (\n    <Switch>\n      <Route path=\"/\" exact component={Main} />\n      <Route path=\"/books\" exact component={Books} />\n      <Route path=\"/books/:id\" exact component={Book} />\n      <Route path=\"/characters\" exact component={Characters} />\n      <Route path=\"/characters/:id\" exact component={Character} />\n      <Route path=\"/houses\" exact component={Houses} />\n      <Route path=\"/houses/:id\" exact component={House} />\n      <Route path=\"/favourites\" component={Favourites} />\n    </Switch>\n  );\n}\n\nexport default App;\n","import {combineReducers, configureStore} from \"@reduxjs/toolkit\";\r\nimport bookSlice from \"./reducers/bookSlice\";\r\nimport booksSlice from \"./reducers/booksSlice\";\r\nimport characterSlice from \"./reducers/characterSlice\";\r\nimport charactersSlice from \"./reducers/charactersSlice\";\r\nimport favouritesSlice from \"./reducers/favouritesSlice\";\r\nimport houseSlice from \"./reducers/houseSlice\";\r\nimport housesSlice from \"./reducers/housesSlice\";\r\nimport recentsSlice from \"./reducers/recentsSlice\";\r\n\r\nconst rootReducer = combineReducers({\r\n  books: booksSlice,\r\n  houses: housesSlice,\r\n  characters: charactersSlice,\r\n  favourites: favouritesSlice,\r\n  recents: recentsSlice,\r\n  book: bookSlice,\r\n  character: characterSlice,\r\n  house: houseSlice,\r\n});\r\n\r\nexport const setupStore = () => {\r\n  return configureStore({\r\n    reducer: rootReducer,\r\n  });\r\n} \r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\nexport type AppStore = ReturnType<typeof setupStore>;\r\nexport type AppDispatch = AppStore[\"dispatch\"];","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { setupStore } from './store/store';\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={setupStore()}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}